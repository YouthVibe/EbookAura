(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{510:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>s});var n=t(95155),r=t(12115),d=t(55028),l=t(29911),a=t(24738),i=t.n(a);let c=(0,d.default)(()=>Promise.all([t.e(3309),t.e(6327),t.e(6757)]).then(t.bind(t,76757)).then(e=>e.default),{loadableGenerated:{webpack:()=>[76757]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:i().loading,children:"Loading PDF viewer..."})});function s(e){let{pdfUrl:o,onClose:t,title:d,allowDownload:a,onDownload:s}=e,[f,_]=(0,r.useState)(!1),[u,w]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if("string"==typeof o)return void w(o);if(o instanceof Blob||o instanceof File){let e=URL.createObjectURL(o);return w(e),()=>{URL.revokeObjectURL(e)}}},[o]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(f?_(!1):t())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[f,t]),u)?(0,n.jsxs)("div",{className:"".concat(i().pdfViewer," ").concat(f?i().fullscreen:""),children:[(0,n.jsxs)("div",{className:i().pdfHeader,children:[(0,n.jsx)("h2",{className:i().pdfTitle,children:d||"PDF Viewer"}),(0,n.jsxs)("div",{className:i().pdfControls,children:[a&&(0,n.jsx)("button",{className:i().controlButton,onClick:function(){if(s&&"function"==typeof s)return void s();try{if(u&&u.startsWith("blob:"))fetch(u).then(e=>e.blob()).then(e=>{let o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download="".concat(d||"document",".pdf"),document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout(()=>URL.revokeObjectURL(o),100)}).catch(e=>{console.error("Error downloading PDF from blob URL:",e),alert("Failed to download PDF. Please try again.")});else if(u){let e=document.createElement("a");e.href=u,e.download="".concat(d||"document",".pdf"),e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}else console.error("No valid PDF URL available for download"),alert("Cannot download PDF. No valid PDF data available.")}catch(e){console.error("Error in direct download:",e),alert("Failed to download PDF. Please try again.")}},title:"Download PDF",children:(0,n.jsx)(l.WCW,{})}),(0,n.jsx)("button",{className:i().controlButton,onClick:function(){_(!f)},title:"Toggle Fullscreen",children:(0,n.jsx)(l.z0S,{})}),(0,n.jsx)("button",{className:i().controlButton,onClick:t,title:"Close",children:(0,n.jsx)(l.QCr,{})})]})]}),(0,n.jsx)(c,{pdfUrl:u,isFullscreen:f})]}):(0,n.jsx)("div",{className:i().loading,children:"Preparing PDF viewer..."})}},24738:e=>{e.exports={pdfViewer:"PdfViewer_pdfViewer__QnSH9",pdfHeader:"PdfViewer_pdfHeader__PBwic",pdfTitle:"PdfViewer_pdfTitle__t_H8l",pdfControls:"PdfViewer_pdfControls__tP4bM",controlButton:"PdfViewer_controlButton__2fVY_",navButton:"PdfViewer_navButton__TCCzZ",pdfContainer:"PdfViewer_pdfContainer__FvtGb",pdfDocument:"PdfViewer_pdfDocument__RHfZ6",pdfPage:"PdfViewer_pdfPage__l3v_L",pdfFooter:"PdfViewer_pdfFooter__rIsjR",pageControls:"PdfViewer_pageControls__qCex6",pageInfo:"PdfViewer_pageInfo__EUeEe",zoomControls:"PdfViewer_zoomControls__wjm7_",zoomText:"PdfViewer_zoomText__WMwe5",loading:"PdfViewer_loading__oj18R",error:"PdfViewer_error__SSQb0",fullscreen:"PdfViewer_fullscreen___0ubx"}}}]);