(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{510:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>f});var n=o(95155),r=o(12115),l=o(55028),d=o(29911),a=o(24738),c=o.n(a);let i=(0,l.default)(()=>Promise.all([o.e(3309),o.e(6327),o.e(6757)]).then(o.bind(o,76757)).then(e=>e.default),{loadableGenerated:{webpack:()=>[76757]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:c().loading,children:"Loading PDF viewer..."})});function f(e){let{pdfUrl:t,onClose:o,title:l,allowDownload:a,onDownload:f}=e,[s,p]=(0,r.useState)(!1),[_,u]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if("string"==typeof t)return fetch(t).then(e=>{if(!e.ok)throw Error("Failed to fetch PDF: ".concat(e.status," ").concat(e.statusText));return e.blob()}).then(e=>{let t=new Blob([e],{type:"application/pdf"});u(URL.createObjectURL(t))}).catch(e=>{console.error("Error creating virtual PDF file:",e),u(t)}),()=>{_&&_.startsWith("blob:")&&URL.revokeObjectURL(_)};if(t instanceof Blob||t instanceof File){let e=t;"application/pdf"!==t.type&&(e=new Blob([t],{type:"application/pdf"}));let o=URL.createObjectURL(e);return u(o),()=>{URL.revokeObjectURL(o)}}},[t]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(s?p(!1):o())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[s,o]),_)?(0,n.jsxs)("div",{className:"".concat(c().pdfViewer," ").concat(s?c().fullscreen:""),children:[(0,n.jsxs)("div",{className:c().pdfHeader,children:[(0,n.jsx)("h2",{className:c().pdfTitle,children:l||"PDF Viewer"}),(0,n.jsxs)("div",{className:c().pdfControls,children:[a&&(0,n.jsx)("button",{className:c().controlButton,onClick:function(){if(f&&"function"==typeof f)return void f();try{_&&_.startsWith("blob:")?fetch(_).then(e=>e.blob()).then(e=>{let t=new Blob([e],{type:"application/pdf"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="".concat(l||"document",".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(o),100)}).catch(e=>{console.error("Error downloading PDF from blob URL:",e),alert("Failed to download PDF. Please try again.")}):_?fetch(_).then(e=>e.blob()).then(e=>{let t=new Blob([e],{type:"application/pdf"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="".concat(l||"document",".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(o),100)}).catch(e=>{console.error("Error downloading PDF from direct URL:",e);let t=document.createElement("a");t.href=_,t.download="".concat(l||"document",".pdf"),t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}):(console.error("No valid PDF URL available for download"),alert("Cannot download PDF. No valid PDF data available."))}catch(e){console.error("Error in direct download:",e),alert("Failed to download PDF. Please try again.")}},title:"Download PDF",children:(0,n.jsx)(d.WCW,{})}),(0,n.jsx)("button",{className:c().controlButton,onClick:function(){p(!s)},title:"Toggle Fullscreen",children:(0,n.jsx)(d.z0S,{})}),(0,n.jsx)("button",{className:c().controlButton,onClick:o,title:"Close",children:(0,n.jsx)(d.QCr,{})})]})]}),(0,n.jsx)(i,{pdfUrl:_,isFullscreen:s})]}):(0,n.jsx)("div",{className:c().loading,children:"Preparing PDF viewer..."})}},24738:e=>{e.exports={pdfViewer:"PdfViewer_pdfViewer__QnSH9",pdfHeader:"PdfViewer_pdfHeader__PBwic",pdfTitle:"PdfViewer_pdfTitle__t_H8l",pdfControls:"PdfViewer_pdfControls__tP4bM",controlButton:"PdfViewer_controlButton__2fVY_",navButton:"PdfViewer_navButton__TCCzZ",pdfContainer:"PdfViewer_pdfContainer__FvtGb",pdfDocument:"PdfViewer_pdfDocument__RHfZ6",pdfPage:"PdfViewer_pdfPage__l3v_L",pdfFooter:"PdfViewer_pdfFooter__rIsjR",pageControls:"PdfViewer_pageControls__qCex6",pageInfo:"PdfViewer_pageInfo__EUeEe",zoomControls:"PdfViewer_zoomControls__wjm7_",zoomText:"PdfViewer_zoomText__WMwe5",loading:"PdfViewer_loading__oj18R",error:"PdfViewer_error__SSQb0",fullscreen:"PdfViewer_fullscreen___0ubx"}}}]);