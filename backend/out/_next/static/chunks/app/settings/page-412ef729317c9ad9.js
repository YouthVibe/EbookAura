(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{2882:(e,t,s)=>{Promise.resolve().then(s.bind(s,13184))},13184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var o=s(95155),r=s(12115),i=s(35695),n=s(6874),a=s.n(n),c=s(29911),l=s(56068),d=s(48432),u=s.n(d),h=s(17203),p=s(72047),m=s(46264),g=s(54581),y=s(92302),b=s(3127),x=s(71116),f=s(41101),v=s(68534),_=s(72390),k=s(31960),w=s(57515);let A=(0,w.A)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),j=(0,w.A)((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh");var S=s(19505),I=s(78173);let N=(0,w.A)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");var E=s(38543);let P=()=>{try{return localStorage.getItem("token")}catch(e){return console.error("Error accessing token from localStorage:",e),null}},C=async()=>{try{let e=P();if(!e)throw Error("Authentication required to access API keys");return await (0,p.dw)(h.Sn.API_KEYS.CURRENT,{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){throw console.error("Error fetching current API key:",e),e}},T=async()=>{try{let e=P();if(!e)throw Error("Authentication required to generate API key");return await (0,p.Xj)(h.Sn.API_KEYS.GENERATE,{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){throw console.error("Error generating API key:",e),e}},D=async()=>{try{let e=P();if(!e)throw Error("Authentication required to revoke API key");return await (0,p._5)(h.Sn.API_KEYS.REVOKE,{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){throw console.error("Error revoking API key:",e),e}},B=()=>{let[e,t]=(0,r.useState)(!0),[s,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{t(!0),h(null);let e=await C();e.success&&e.apiKey?i(e.apiKey):i(null)}catch(e){console.error("Error fetching API key:",e),h("Unable to fetch API key"),i(null)}finally{t(!1)}},m=async()=>{try{t(!0),h(null),c(!1);let e=await T();e.success&&e.apiKey?(d(e.apiKey),c(!0),p(),E.oR.success("New API key generated successfully!")):h("Failed to generate API key")}catch(e){console.error("Error generating API key:",e),h("Unable to generate API key")}finally{t(!1)}},w=async()=>{if(window.confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{t(!0),h(null),(await D()).success?(i(null),d(""),c(!1),E.oR.success("API key revoked successfully!")):h("Failed to revoke API key")}catch(e){console.error("Error revoking API key:",e),h("Unable to revoke API key")}finally{t(!1)}},P=e=>{navigator.clipboard.writeText(e).then(()=>{E.oR.success("API key copied to clipboard!")},e=>{console.error("Could not copy text: ",e),E.oR.error("Failed to copy to clipboard")})};return(0,o.jsxs)(g.A,{mb:3,children:[u&&(0,o.jsx)(y.A,{severity:"error",sx:{mb:2},children:u}),n&&(0,o.jsxs)(y.A,{severity:"info",sx:{mb:2},action:(0,o.jsx)(b.A,{color:"inherit",size:"small",onClick:()=>P(l),children:(0,o.jsx)(A,{fontSize:"small"})}),children:[(0,o.jsx)(x.A,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Your new API key (only shown once):"}),(0,o.jsx)(g.A,{sx:{fontFamily:"monospace",p:1,bgcolor:"background.paper",borderRadius:1,border:"1px dashed rgba(0, 0, 0, 0.2)",wordBreak:"break-all"},children:l}),(0,o.jsx)(x.A,{variant:"caption",sx:{display:"block",mt:1,color:"error.main"},children:"Make sure to copy this key now. You won't be able to see it again!"})]}),(0,o.jsxs)(g.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[(0,o.jsx)(g.A,{children:s?(0,o.jsxs)(g.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(I.A,{color:"primary",fontSize:"small"}),(0,o.jsx)(f.A,{label:"API Key Active",color:"success",size:"small"})]}):(0,o.jsxs)(g.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(I.A,{color:"disabled",fontSize:"small"}),(0,o.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"No API key generated"})]})}),(0,o.jsx)(g.A,{children:s?(0,o.jsxs)(g.A,{sx:{display:"flex",gap:1},children:[(0,o.jsx)(v.A,{variant:"outlined",size:"small",startIcon:(0,o.jsx)(j,{}),onClick:m,disabled:e,children:"Regenerate"}),(0,o.jsx)(v.A,{variant:"outlined",size:"small",color:"error",startIcon:(0,o.jsx)(S.A,{}),onClick:w,disabled:e,children:"Revoke"})]}):(0,o.jsx)(v.A,{variant:"contained",size:"small",startIcon:(0,o.jsx)(I.A,{}),onClick:m,disabled:e,children:"Generate API Key"})})]}),(0,o.jsx)(_.A,{sx:{my:2}}),(0,o.jsxs)(g.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"Use your API key to access EbookAura services programmatically"}),(0,o.jsx)(a(),{href:"/profile/api-keys",passHref:!0,children:(0,o.jsxs)(k.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,o.jsx)(x.A,{variant:"body2",children:"Manage API Keys"}),(0,o.jsx)(N,{fontSize:"small"})]})})]})]})};var R=s(14426);let L=(0,w.A)((0,o.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),O=(0,w.A)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),z=(0,w.A)((0,o.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen"),M=(0,w.A)([(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,o.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),H=(0,w.A)((0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23z"}),"Stars"),F=()=>{var e;let[t,s]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),[c,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{s(!0),l(null);let e=await (0,m.getCurrentSubscription)();e.success?n(e):l("Could not retrieve subscription status")}catch(e){console.error("Error fetching subscription status:",e),l("Unable to check subscription status")}finally{s(!1)}},u=i?i.active?{color:"success",icon:(0,o.jsx)(O,{}),label:i.planType?"".concat(i.planType.toUpperCase()," Plan"):"Active"}:{color:"default",icon:(0,o.jsx)(z,{}),label:"Free Plan"}:{color:"default",icon:(0,o.jsx)(L,{}),label:"Unknown"},h=(null==i?void 0:i.expiresAt)?(e=>{if(!e)return null;let t=new Date(e),s=Math.ceil((t-new Date)/864e5);return s>0?s:0})(i.expiresAt):null;return t?(0,o.jsx)(g.A,{sx:{display:"flex",justifyContent:"center",my:2},children:(0,o.jsx)(R.A,{size:24})}):(0,o.jsxs)(g.A,{mb:3,children:[c&&(0,o.jsx)(y.A,{severity:"error",sx:{mb:2},children:c}),(0,o.jsxs)(g.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[(0,o.jsxs)(g.A,{children:[(0,o.jsx)(x.A,{variant:"subtitle2",gutterBottom:!0,children:"Subscription Status"}),(0,o.jsx)(f.A,{icon:u.icon,label:u.label,color:u.color,size:"medium"})]}),(null==i?void 0:i.active)&&(null==i?void 0:i.expiresAt)&&(0,o.jsxs)(g.A,{sx:{textAlign:"right"},children:[(0,o.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:["Expires: ",(e=>e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Not available")(i.expiresAt)]}),null!==h&&(0,o.jsxs)(g.A,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",mt:.5},children:[(0,o.jsx)(M,{fontSize:"small",sx:{mr:.5,color:h<7?"warning.main":"text.secondary"}}),(0,o.jsxs)(x.A,{variant:"body2",color:h<7?"warning.main":"text.secondary",fontWeight:h<7?"bold":"regular",children:[h," days remaining"]})]})]})]}),(null==i?void 0:i.active)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{sx:{mt:2,mb:1},children:(0,o.jsx)(y.A,{severity:"success",icon:(0,o.jsx)(H,{}),children:(0,o.jsxs)(x.A,{variant:"body2",children:["You have full access to all premium content with your ",(null==(e=i.planType)?void 0:e.toUpperCase())||"PRO"," subscription."]})})}),(0,o.jsx)(g.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:(0,o.jsx)(a(),{href:"/plans",passHref:!0,children:(0,o.jsxs)(k.A,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(x.A,{variant:"body2",children:"Manage Subscription"}),(0,o.jsx)(N,{fontSize:"small",sx:{ml:.5}})]})})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{sx:{mt:2,mb:1},children:(0,o.jsx)(y.A,{severity:"info",children:(0,o.jsx)(x.A,{variant:"body2",children:"Upgrade to a premium plan to access all content and features."})})}),(0,o.jsx)(g.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:(0,o.jsx)(a(),{href:"/plans",passHref:!0,children:(0,o.jsx)(v.A,{variant:"contained",color:"primary",size:"small",endIcon:(0,o.jsx)(N,{}),children:"View Plans"})})})]}),(0,o.jsx)(_.A,{sx:{mt:2}})]})};function U(){let{user:e,logout:t,getToken:s,updateUserCoins:n}=(0,l.h)(),d=(0,i.useRouter)(),[g,y]=(0,r.useState)(!0),[b,x]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[_,k]=(0,r.useState)(""),[w,A]=(0,r.useState)([]),[j,S]=(0,r.useState)([]),[I,N]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[D,R]=(0,r.useState)(""),[L,O]=(0,r.useState)(""),[z,M]=(0,r.useState)(null),[H,U]=(0,r.useState)([]),[K,V]=(0,r.useState)(!1),[J,G]=(0,r.useState)(!1),[W,Y]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!e)return void d.push("/login");q(),X()},[e,d]);let q=async()=>{y(!0),x("");try{let e=s();if(!e)throw Error("No authentication token found");let t=await fetch("".concat(h.JR,"/reviews/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch reviews");let o=await t.json();A(o);let r=await fetch("".concat(h.JR,"/bookmarks"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch bookmarks");let i=await r.json();S(i)}catch(e){console.error("Error fetching user data:",e),x(e.message||"An error occurred while fetching your data")}finally{y(!1)}},X=async()=>{V(!0);try{try{let e=await (0,m.getCurrentSubscription)();e&&e.hasSubscription&&e.subscription?M(e.subscription):(console.log("No active subscription found"),e&&e.wasExpired&&(x("Your subscription has expired. Please renew to continue enjoying premium benefits."),e.subscription&&U(t=>[e.subscription,...t])),M(null))}catch(e){console.error("Error fetching subscription:",e),M(null)}try{let e=await (0,m._h)();e&&e.subscriptions?U(e.subscriptions):e&&e.data?U(e.data):U([])}catch(e){console.error("Error fetching subscription history:",e),U([])}}catch(e){console.error("Error fetching subscription data:",e),x(e.message||"Failed to load subscription data")}finally{V(!1)}},Q=async e=>{k("Are you sure you want to delete this review?"),v(""),x("");try{let t=s();if(!t)throw Error("No authentication token found");let o=await fetch("".concat(h.JR,"/reviews/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!o.ok){let e=await o.json();throw Error(e.message||"Failed to delete review")}v("Review deleted successfully"),A(w.filter(t=>t._id!==e))}catch(e){console.error("Error deleting review:",e),x(e.message||"An error occurred while deleting the review")}},Z=async()=>{P(!0)},$=async()=>{P(!1),y(!0),x(""),v("");try{let e=s();if(!e)throw Error("No authentication token found");let t=await fetch("".concat(h.JR,"/reviews/user/all"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to delete all reviews")}v("All reviews deleted successfully"),A([])}catch(e){console.error("Error deleting all reviews:",e),x(e.message||"An error occurred while deleting all reviews")}finally{y(!1)}},ee=async e=>{k("Are you sure you want to delete this bookmark?"),v(""),x("");try{let t=s();if(!t)throw Error("No authentication token found");let o=await fetch("".concat(h.JR,"/bookmarks/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!o.ok){let e=await o.json();throw Error(e.message||"Failed to delete bookmark")}v("Bookmark deleted successfully"),S(j.filter(t=>t._id!==e))}catch(e){console.error("Error deleting bookmark:",e),x(e.message||"An error occurred while deleting the bookmark")}},et=async()=>{T(!0)},es=async()=>{T(!1),y(!0),x(""),v("");try{let e=s();if(!e)throw Error("No authentication token found");let t=await fetch("".concat(h.JR,"/bookmarks/all"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to delete all bookmarks")}v("All bookmarks deleted successfully"),S([])}catch(e){console.error("Error deleting all bookmarks:",e),x(e.message||"An error occurred while deleting all bookmarks")}finally{y(!1)}},eo=async()=>{if(!D)return void O("Please enter your password to confirm account deletion");N(!1),y(!0),x(""),v("");try{let e=s();if(!e)throw Error("No authentication token found");try{await (0,p.Xj)("/users/verify-password",{password:D},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})}catch(e){y(!1),x("Password verification failed. Account deletion aborted.");return}await (0,p._5)("/users/profile",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),v("Account deleted successfully"),t(),setTimeout(()=>{d.push("/")},1500)}catch(e){console.error("Error deleting account:",e),x(e.message||"An error occurred while deleting your account"),y(!1)}},er=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return g?(0,o.jsx)("div",{className:u().container,children:(0,o.jsx)("div",{className:u().settingsContainer,children:(0,o.jsx)("div",{className:u().loading,children:(0,o.jsx)("div",{className:u().loadingAnimation})})})}):(0,o.jsxs)("div",{className:u().container,children:[(0,o.jsxs)("div",{className:u().settingsContainer,children:[(0,o.jsxs)("div",{className:u().header,children:[(0,o.jsxs)(a(),{href:"/profile",className:u().backLink,children:[(0,o.jsx)(c.QVr,{className:u().backIcon}),"Back to Profile"]}),(0,o.jsx)("h1",{className:u().headerTitle,children:"Settings"}),(0,o.jsx)("p",{className:u().headerSubtitle,children:"Manage your account settings"})]}),b&&(0,o.jsx)("div",{className:u().errorMessage,children:b}),f&&(0,o.jsx)("div",{className:u().successMessage,children:f}),(0,o.jsxs)("div",{className:u().settingsSection,children:[(0,o.jsxs)("h2",{className:u().sectionTitle,children:[(0,o.jsx)(c.Hu1,{className:u().sectionIcon}),"Subscription"]}),(0,o.jsx)("p",{className:u().sectionDescription,children:"Manage your subscription plan and access to premium content"}),(0,o.jsx)(F,{})]}),(0,o.jsxs)("div",{className:u().settingsSection,children:[(0,o.jsxs)("h2",{className:u().sectionTitle,children:[(0,o.jsx)(c.pXu,{className:u().sectionIcon}),"API Key"]}),(0,o.jsx)("p",{className:u().sectionDescription,children:"Manage your API key for external applications and services"}),(0,o.jsx)(B,{})]}),(0,o.jsxs)("div",{className:u().settingsSection,children:[(0,o.jsx)("h2",{className:u().sectionTitle,children:"Account Settings"}),(0,o.jsxs)("div",{className:u().settingItem,children:[(0,o.jsxs)("div",{className:u().settingInfo,children:[(0,o.jsx)("h3",{className:u().settingTitle,children:"Delete Account"}),(0,o.jsx)("p",{className:u().settingDescription,children:"Permanently delete your account and all associated data"})]}),(0,o.jsxs)("button",{className:u().deleteButton,onClick:()=>{R(""),O(""),N(!0)},children:[(0,o.jsx)(c.qbC,{className:u().deleteIcon}),"Delete Account"]})]})]}),(0,o.jsxs)("div",{className:u().settingsSection,children:[(0,o.jsx)("h2",{className:u().sectionTitle,children:"Reviews & Ratings"}),(0,o.jsxs)("div",{className:u().settingItem,children:[(0,o.jsxs)("div",{className:u().settingInfo,children:[(0,o.jsx)("h3",{className:u().settingTitle,children:"Delete All Reviews"}),(0,o.jsx)("p",{className:u().settingDescription,children:"Remove all your reviews and ratings from books"})]}),(0,o.jsxs)("button",{className:u().deleteButton,onClick:Z,children:[(0,o.jsx)(c.qbC,{className:u().deleteIcon}),"Delete All Reviews"]})]}),w.length>0&&(0,o.jsxs)("div",{className:u().reviewsList,children:[(0,o.jsx)("h3",{className:u().subsectionTitle,children:"Your Reviews"}),w.map(e=>(0,o.jsxs)("div",{className:u().reviewItem,children:[(0,o.jsxs)("div",{className:u().reviewInfo,children:[(0,o.jsx)("h4",{className:u().bookTitle,children:e.book.title}),(0,o.jsx)("div",{className:u().rating,children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,o.jsx)(c.gt3,{className:"".concat(u().starIcon," ").concat(s<e.rating?u().filled:"")},s))}),(0,o.jsx)("p",{className:u().reviewText,children:e.text}),(0,o.jsx)("p",{className:u().reviewDate,children:new Date(e.createdAt).toLocaleDateString()})]}),(0,o.jsx)("button",{className:u().deleteReviewButton,onClick:()=>Q(e._id),children:(0,o.jsx)(c.qbC,{className:u().deleteIcon})})]},e._id))]})]}),(0,o.jsxs)("div",{className:u().settingsSection,children:[(0,o.jsx)("h2",{className:u().sectionTitle,children:"Bookmarks"}),(0,o.jsxs)("div",{className:u().settingItem,children:[(0,o.jsxs)("div",{className:u().settingInfo,children:[(0,o.jsx)("h3",{className:u().settingTitle,children:"Delete All Bookmarks"}),(0,o.jsx)("p",{className:u().settingDescription,children:"Remove all your bookmarked books"})]}),(0,o.jsxs)("button",{className:u().deleteButton,onClick:et,children:[(0,o.jsx)(c.qbC,{className:u().deleteIcon}),"Delete All Bookmarks"]})]}),j.length>0&&(0,o.jsxs)("div",{className:u().bookmarksList,children:[(0,o.jsx)("h3",{className:u().subsectionTitle,children:"Your Bookmarks"}),j.map(e=>(0,o.jsxs)("div",{className:u().bookmarkItem,children:[(0,o.jsxs)("div",{className:u().bookmarkInfo,children:[(0,o.jsx)("h4",{className:u().bookTitle,children:e.book.title}),(0,o.jsxs)("p",{className:u().bookmarkDate,children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,o.jsx)("button",{className:u().deleteBookmarkButton,onClick:()=>ee(e._id),children:(0,o.jsx)(c.qbC,{className:u().deleteIcon})})]},e._id))]})]}),H.length>0&&(0,o.jsxs)("div",{className:u().subscriptionHistory,children:[(0,o.jsx)("h3",{children:"Subscription History"}),(0,o.jsx)("div",{className:u().historyList,children:H.map(e=>{var t;return(0,o.jsxs)("div",{className:u().historyItem,children:[(0,o.jsxs)("div",{className:u().historyHeader,children:[(0,o.jsx)("span",{className:u().historyPlan,children:(null==(t=e.plan)?void 0:t.name)||"Premium Plan"}),(0,o.jsx)("span",{className:"".concat(u().historyStatus," ").concat(u()[e.status]),children:e.status})]}),(0,o.jsxs)("div",{className:u().historyPeriod,children:[er(e.startDate)," - ",er(e.endDate)]})]},e._id)})})]})]}),I&&(0,o.jsx)("div",{className:u().modalOverlay,children:(0,o.jsxs)("div",{className:u().modal,children:[(0,o.jsxs)("div",{className:u().modalHeader,children:[(0,o.jsx)(c.BS8,{className:u().warningIcon}),(0,o.jsx)("h3",{className:u().modalTitle,children:"Delete Account"})]}),(0,o.jsxs)("div",{className:u().modalContent,children:[(0,o.jsx)("p",{children:"Are you sure you want to delete your account? This action cannot be undone."}),(0,o.jsx)("p",{children:"The following will be permanently deleted:"}),(0,o.jsxs)("ul",{className:u().deletionList,children:[(0,o.jsx)("li",{children:"Your user profile and personal information"}),(0,o.jsx)("li",{children:"All your reviews and ratings"}),(0,o.jsx)("li",{children:"All your bookmarks"}),(0,o.jsx)("li",{children:"Your profile picture"})]}),(0,o.jsxs)("div",{className:u().passwordConfirmation,children:[(0,o.jsx)("label",{htmlFor:"confirmPassword",children:"Enter your password to confirm deletion:"}),(0,o.jsx)("input",{type:"password",id:"confirmPassword",value:D,onChange:e=>R(e.target.value),className:u().passwordInput,placeholder:"Your current password"}),L&&(0,o.jsx)("p",{className:u().passwordError,children:L})]})]}),(0,o.jsxs)("div",{className:u().modalActions,children:[(0,o.jsx)("button",{className:u().cancelButton,onClick:()=>N(!1),children:"Cancel"}),(0,o.jsx)("button",{className:u().confirmDeleteButton,onClick:eo,children:"Delete My Account"})]})]})}),E&&(0,o.jsx)("div",{className:u().modalOverlay,children:(0,o.jsxs)("div",{className:u().modal,children:[(0,o.jsxs)("div",{className:u().modalHeader,children:[(0,o.jsx)(c.BS8,{className:u().warningIcon}),(0,o.jsx)("h3",{className:u().modalTitle,children:"Delete All Reviews"})]}),(0,o.jsxs)("div",{className:u().modalContent,children:[(0,o.jsx)("p",{children:"Are you sure you want to delete all your reviews? This action cannot be undone."}),(0,o.jsx)("p",{children:"All your reviews and ratings will be permanently removed from the platform."})]}),(0,o.jsxs)("div",{className:u().modalActions,children:[(0,o.jsx)("button",{className:u().cancelButton,onClick:()=>P(!1),children:"Cancel"}),(0,o.jsx)("button",{className:u().confirmDeleteButton,onClick:$,children:"Delete All Reviews"})]})]})}),C&&(0,o.jsx)("div",{className:u().modalOverlay,children:(0,o.jsxs)("div",{className:u().modal,children:[(0,o.jsxs)("div",{className:u().modalHeader,children:[(0,o.jsx)(c.BS8,{className:u().warningIcon}),(0,o.jsx)("h3",{className:u().modalTitle,children:"Delete All Bookmarks"})]}),(0,o.jsxs)("div",{className:u().modalContent,children:[(0,o.jsx)("p",{children:"Are you sure you want to delete all your bookmarks? This action cannot be undone."}),(0,o.jsx)("p",{children:"All your bookmarked books will be permanently removed from your account."})]}),(0,o.jsxs)("div",{className:u().modalActions,children:[(0,o.jsx)("button",{className:u().cancelButton,onClick:()=>T(!1),children:"Cancel"}),(0,o.jsx)("button",{className:u().confirmDeleteButton,onClick:es,children:"Delete All Bookmarks"})]})]})}),J&&(0,o.jsx)("div",{className:u().modalOverlay,children:(0,o.jsxs)("div",{className:u().modalContent,children:[(0,o.jsx)("h2",{children:"Subscription Cancellation"}),(0,o.jsx)("p",{children:"Subscriptions are non-refundable and cannot be canceled once purchased."}),(0,o.jsxs)("p",{children:["You will continue to have access until ",er(null==z?void 0:z.endDate),"."]}),(0,o.jsx)("div",{className:u().modalActions,children:(0,o.jsx)("button",{className:u().confirmButton,onClick:()=>G(!1),children:"I Understand"})})]})})]})}},17203:(e,t,s)=>{"use strict";s.d(t,{JR:()=>o,Sn:()=>r}),s(72047);let o="https://ebookaura.onrender.com/api",r={AUTH:{LOGIN:"".concat(o,"/auth/login"),REGISTER:"".concat(o,"/auth/register"),ME:"".concat(o,"/auth/me"),FORGOT_PASSWORD:"".concat(o,"/auth/forgot-password"),RESET_PASSWORD:e=>"".concat(o,"/auth/reset-password/").concat(e),VERIFY_EMAIL:"".concat(o,"/auth/verify-email")},BOOKS:{ALL:"".concat(o,"/books"),CATEGORIES:"".concat(o,"/books/categories"),TAGS:"".concat(o,"/books/tags"),DETAILS:e=>"".concat(o,"/books/").concat(e),PDF:e=>"".concat(o,"/books/pdf/").concat(e),PDF_CONTENT:e=>"".concat(o,"/books/pdf/").concat(e),DOWNLOAD:e=>"".concat(o,"/books/").concat(e,"/download"),REVIEWS:e=>"".concat(o,"/books/").concat(e,"/reviews"),RATING:e=>"".concat(o,"/books/").concat(e,"/rating"),ADD_REVIEW:e=>"".concat(o,"/books/").concat(e,"/reviews")},UPLOAD:{FILE:"".concat(o,"/upload"),PDF:"".concat(o,"/upload/pdf"),DELETE_FILE:e=>"".concat(o,"/upload/").concat(e),DELETE_BOOK:e=>"".concat(o,"/upload/book/").concat(e)},USER:{PROFILE:"".concat(o,"/users/profile"),UPDATE_PROFILE:"".concat(o,"/users/profile"),UPDATE_IMAGE:"".concat(o,"/users/profile/image"),BOOKMARKS:"".concat(o,"/users/bookmarks")},SUBSCRIPTIONS:{CURRENT:"".concat(o,"/subscriptions/current"),CHECK:"".concat(o,"/subscriptions/check"),CHECK_API:"".concat(o,"/subscriptions/check-api"),ACTIVATE:"".concat(o,"/subscriptions/activate"),DEACTIVATE:"".concat(o,"/subscriptions/deactivate")},API_KEYS:{GENERATE:"".concat(o,"/api-keys/generate"),CURRENT:"".concat(o,"/api-keys/current"),REVOKE:"".concat(o,"/api-keys/revoke"),VERIFY:"".concat(o,"/api-keys/verify")}}},46264:(e,t,s)=>{"use strict";s.d(t,{D8:()=>c,_h:()=>a,checkSubscriptionWithApiKey:()=>d,getCurrentSubscription:()=>n,nV:()=>l,wQ:()=>i});var o=s(72047);s(17203);let r={PLANS:36e5,HISTORY:6e5},i=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let t="subscription_plans",{shouldMakeCall:s,cachedData:i}=(0,o.UB)(t,r.PLANS,e);if(!s&&i)return i;let n=await (0,o.dw)("/subscriptions/plans");if(n){let e=n.plans||n.data||[],s={...n,plans:e};return(0,o.yt)(t,s),s}return n}catch(e){throw console.error("Error fetching subscription plans:",e),e}},n=async()=>{try{let e=localStorage.getItem("token");if(!e)return console.log("No authentication token found for subscription check"),{success:!1,hasSubscription:!1,message:"Not authenticated"};console.log("Checking current subscription status from server...");let t=await fetch("".concat("https://ebookaura.onrender.com/api","/subscriptions/current"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});console.log("Subscription status API response status: ".concat(t.status));let s=await t.json();if(console.log("Subscription status API response:",s),t.ok){void 0===s.hasSubscription&&void 0!==s.active?s.hasSubscription=s.active:void 0===s.active&&void 0!==s.hasSubscription&&(s.active=s.hasSubscription);try{localStorage.setItem("subscriptionStatus",JSON.stringify({hasSubscription:s.hasSubscription,active:s.hasSubscription,planType:s.planType,expiresAt:s.expiresAt,timestamp:new Date().toISOString()})),console.log("Subscription status cached successfully")}catch(e){console.warn("Failed to cache subscription status:",e)}return s.success&&s.hasSubscription?console.log("User has an active subscription (".concat(s.planType||"unknown"," plan), expires: ").concat(s.expiresAt||"unknown")):console.log("User does not have an active subscription"),s}throw console.error("Subscription check failed with error:",s.message),Error(s.message||"Failed to check subscription status")}catch(e){console.error("Error checking subscription status:",e);try{let e=localStorage.getItem("subscriptionStatus");if(e){let t=JSON.parse(e),s=new Date(t.timestamp),o=new Date;if(o-s<3e5)return console.log("Using cached subscription status from",new Date(t.timestamp).toLocaleTimeString()),console.log("Cached subscription value:",t.hasSubscription?"Active":"Inactive"),{success:!0,hasSubscription:t.hasSubscription,active:t.hasSubscription,planType:t.planType,expiresAt:t.expiresAt,fromCache:!0};console.log("Cached subscription data is too old:",Math.round((o-s)/6e4),"minutes old")}else console.log("No cached subscription data found")}catch(e){console.error("Error reading cached subscription status:",e)}return{success:!1,hasSubscription:!1,active:!1,error:e.message||"Failed to check subscription status"}}},a=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let t=localStorage.getItem("token");if(!t)throw Error("Authentication required");let s="subscription_history",{shouldMakeCall:i,cachedData:n}=(0,o.UB)(s,r.HISTORY,e);if(!i&&n)return n;let a=await (0,o.dw)("/subscriptions/history",{headers:{Authorization:"Bearer ".concat(t)}});return(0,o.yt)(s,a),a}catch(e){throw console.error("Error fetching subscription history:",e),e}},c=async e=>{try{let t=localStorage.getItem("token");if(!t)throw Error("Authentication required");if(console.log("Purchasing subscription with data:",e),!e.planId)throw Error("Plan ID is required");e.paymentMethod||(e.paymentMethod="coins");let s=await fetch("".concat("https://ebookaura.onrender.com/api","/subscriptions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});console.log("Subscription purchase API response status: ".concat(s.status));let o=await s.json();if(console.log("Subscription purchase API response:",o),!s.ok)throw Error(o.message||"Failed to purchase subscription");try{localStorage.removeItem("subscriptionStatus"),console.log("Cleared subscription cache after purchase")}catch(e){console.warn("Failed to clear subscription cache:",e)}return o}catch(e){throw console.error("Error purchasing subscription:",e),e}},l=async(e,t)=>{try{let s=localStorage.getItem("token");if(!s)throw Error("Authentication required");let r=await (0,o.TA)("/subscriptions/".concat(e),t,{headers:{Authorization:"Bearer ".concat(s)}});return(0,o.yt)("current_subscription",null),(0,o.yt)("subscription_history",null),r}catch(e){throw console.error("Error updating subscription:",e),e}},d=async e=>{try{if(!e)throw console.error("checkSubscriptionWithApiKey called without an API key"),Error("API key is required");console.log("Checking subscription status with API key: ".concat(e.substring(0,5),"..."));let t=await fetch("".concat("https://ebookaura.onrender.com/api","/subscriptions/check-api"),{method:"GET",headers:{"X-API-Key":e}});console.log("Subscription check API response status: ".concat(t.status));let s=await t.json();if(console.log("Subscription check API response:",s),t.ok)return void 0===s.hasSubscription&&void 0!==s.active&&(s.hasSubscription=s.active),s.success&&s.hasSubscription?console.log("API key has valid subscription - granting access"):console.log("API key does not have an active subscription"),s;throw console.error("Subscription check failed with error:",s.message),Error(s.message||"Failed to check subscription status")}catch(e){return console.error("Error checking subscription with API key:",e),{success:!1,hasSubscription:!1,active:!1,error:e.message||"Failed to check subscription status"}}}},48432:e=>{e.exports={container:"settings_container__2ie5P",settingsContainer:"settings_settingsContainer__OiAFk",settingsHeader:"settings_settingsHeader__pxI5K",settingsSection:"settings_settingsSection__i2OtM",settingsForm:"settings_settingsForm__QFBN5",formGroup:"settings_formGroup___ZcmN",button:"settings_button__4aUGd",primaryButton:"settings_primaryButton__r0y9U",secondaryButton:"settings_secondaryButton__YzKrA",dangerButton:"settings_dangerButton__XNJJQ",message:"settings_message__U_WnO",successMessage:"settings_successMessage__nvFhf",errorMessage:"settings_errorMessage__YJSxc",warningMessage:"settings_warningMessage__jmRQI",backLink:"settings_backLink__3JJTg",backIcon:"settings_backIcon__E6WHq",headerTitle:"settings_headerTitle__pykIb",headerSubtitle:"settings_headerSubtitle__GyGtZ",sectionTitle:"settings_sectionTitle__yFwCw",settingItem:"settings_settingItem__qqkai",settingInfo:"settings_settingInfo__jxpWV",settingTitle:"settings_settingTitle__IOOWP",settingDescription:"settings_settingDescription__1xJyu",deleteButton:"settings_deleteButton__9fZZ7",deleteIcon:"settings_deleteIcon__tGVGU",reviewsList:"settings_reviewsList___u4RK",bookmarksList:"settings_bookmarksList__nlMIQ",subsectionTitle:"settings_subsectionTitle__D_Xig",reviewItem:"settings_reviewItem__52dUc",bookmarkItem:"settings_bookmarkItem__mEyHR",reviewInfo:"settings_reviewInfo__krb9U",bookmarkInfo:"settings_bookmarkInfo__8ew8H",bookTitle:"settings_bookTitle__rMtHL",rating:"settings_rating__kjcCJ",starIcon:"settings_starIcon__2r7HL",filled:"settings_filled__LaxsW",reviewText:"settings_reviewText__KTEim",reviewDate:"settings_reviewDate__OpLag",bookmarkDate:"settings_bookmarkDate__tU6uH",deleteReviewButton:"settings_deleteReviewButton__EyRh2",deleteBookmarkButton:"settings_deleteBookmarkButton__2IdN6",loading:"settings_loading__xABMV",loadingAnimation:"settings_loadingAnimation__3ISGg",spin:"settings_spin__w0HRh",modalOverlay:"settings_modalOverlay__SuNGX",modal:"settings_modal__YzoDu",modalHeader:"settings_modalHeader__LErpR",warningIcon:"settings_warningIcon__F6lGo",modalTitle:"settings_modalTitle__slN_P",modalContent:"settings_modalContent__yG9LW",modalActions:"settings_modalActions__wzsXm",cancelButton:"settings_cancelButton__4TiaH",confirmDeleteButton:"settings_confirmDeleteButton__0gYCm",passwordConfirmation:"settings_passwordConfirmation__UoWdJ",passwordInput:"settings_passwordInput__LN6rE",passwordError:"settings_passwordError__cOSLt",deletionList:"settings_deletionList__7B8Jk",sectionIcon:"settings_sectionIcon__0JlWS",sectionHeader:"settings_sectionHeader__6RgME",subscriptionCard:"settings_subscriptionCard__bQvwV",subscriptionHeader:"settings_subscriptionHeader__aGrSu",subscriptionName:"settings_subscriptionName__Y2y2D",subscriptionStatus:"settings_subscriptionStatus__V_V_G",active:"settings_active__rKjmW",canceled:"settings_canceled__LHeM4",expired:"settings_expired__mIj8X",pending:"settings_pending__mEJuO",subscriptionDetails:"settings_subscriptionDetails__6AobI",subscriptionActions:"settings_subscriptionActions__OYan8",actionButton:"settings_actionButton__ttyeg",noSubscription:"settings_noSubscription__OkTFQ",planButton:"settings_planButton__xaUOu",subscriptionHistory:"settings_subscriptionHistory__Zax_I",historyList:"settings_historyList__1DJTb",historyItem:"settings_historyItem__12Hce",historyHeader:"settings_historyHeader__EDk2Y",historyPlan:"settings_historyPlan__o3cEk",historyStatus:"settings_historyStatus__mrotM",historyPeriod:"settings_historyPeriod__GZVUF",selectInput:"settings_selectInput__ECENu",coinsBalance:"settings_coinsBalance__wCOmf",coinIcon:"settings_coinIcon__qzqg8",confirmButton:"settings_confirmButton__4PUKs",nonCancelableNotice:"settings_nonCancelableNotice__v1XwI",infoIcon:"settings_infoIcon__R1him",expiredSubscriptionMessage:"settings_expiredSubscriptionMessage___N6hw"}},56068:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,h:()=>d});var o=s(95155),r=s(12115),i=s(35695),n=s(72047);let a=(0,r.createContext)(),c=()=>"ak_"+Array.from(crypto.getRandomValues(new Uint8Array(24))).map(e=>e.toString(16).padStart(2,"0")).join(""),l=e=>{let{children:t}=e,[s,l]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),[h,p]=(0,r.useState)(!1),m=(0,i.useRouter)(),g=(0,r.useRef)(!1),y=(0,r.useRef)(!1);(0,r.useEffect)(()=>{p(!0),(async()=>{try{let e=localStorage.getItem("userInfo"),t=localStorage.getItem("token");if(localStorage.getItem("apiKey"),e&&t)try{if(l(JSON.parse(e)),!g.current&&!y.current){g.current=!0;try{await (0,n.dw)("/auth/check",{headers:{Authorization:"Bearer ".concat(t)}}),y.current=!0}catch(e){if(console.error("Token validation failed:",e),"localhost"!==window.location.hostname)try{console.log("Retrying token validation..."),await new Promise(e=>setTimeout(e,1e3)),await (0,n.dw)("/auth/check",{headers:{Authorization:"Bearer ".concat(t)}}),y.current=!0}catch(e){console.error("Token validation retry failed:",e),x()}else x()}finally{g.current=!1}}}catch(e){console.error("Failed to parse user info:",e),localStorage.removeItem("userInfo"),localStorage.removeItem("token"),localStorage.removeItem("apiKey")}}finally{u(!1)}})()},[]);let b=e=>{if(console.log("Processing login data"),!e)return void console.error("No user data received for login");try{if(!e.token)return void console.error("No token in login data");let{token:t,...s}=e;console.log("Setting user data:",s),l(s);{localStorage.setItem("userInfo",JSON.stringify(s)),localStorage.setItem("token",t);let e=localStorage.getItem("apiKey");e||(console.log("Generating new API key"),e=c(),localStorage.setItem("apiKey",e)),console.log("Authentication data stored in localStorage")}}catch(e){console.error("Error processing login:",e)}},x=()=>{l(null),localStorage.removeItem("userInfo"),localStorage.removeItem("token"),m.push("/login")},f=()=>localStorage.getItem("token"),v=()=>localStorage.getItem("apiKey"),_=e=>{if(s){let t={...s,coins:e};l(t),localStorage.setItem("userInfo",JSON.stringify(t))}};return h?(0,o.jsx)(a.Provider,{value:{user:s,isLoggedIn:!!s,loading:d,login:b,logout:x,getToken:f,getApiKey:v,updateUserCoins:_},children:t}):(0,o.jsx)(a.Provider,{value:{user:null,isLoggedIn:!1,loading:!0,login:b,logout:x,getToken:f,getApiKey:v,updateUserCoins:_},children:t})},d=()=>{let e=(0,r.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},72047:(e,t,s)=>{"use strict";s.d(t,{TA:()=>u,UB:()=>r,Xj:()=>c,_5:()=>d,dw:()=>a,q1:()=>l,yt:()=>i});let o={};function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s)return{shouldMakeCall:!0,cachedData:null};let r=Date.now(),i=o[e];return!i||r-i.timestamp>t?{shouldMakeCall:!0,cachedData:null}:{shouldMakeCall:!1,cachedData:i.data}}function i(e,t){o[e]={timestamp:Date.now(),data:t}}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=e.startsWith("http")?e:"".concat("https://ebookaura.onrender.com/api").concat(e);console.log("API Request: ".concat(t.method||"GET"," ").concat(s)),t.headers||(t.headers={}),!t.body||t.headers["Content-Type"]||t.body instanceof FormData||(t.headers["Content-Type"]="application/json");let o=e.startsWith("/books")&&("GET"===t.method||!t.method)&&!e.includes("/reviews")&&!e.includes("/bookmarks"),r=e.match(/^\/books\/[a-z0-9]+$/i);{let e=localStorage.getItem("token"),s=localStorage.getItem("apiKey");e&&(!o||r)&&!t.headers.Authorization&&(t.headers.Authorization="Bearer ".concat(e)),s&&!t.headers["X-API-Key"]&&(t.headers["X-API-Key"]=s)}let i=await fetch(s,t),n=i.headers.get("content-type");if(!i.ok){if(console.error("API Error (".concat(i.status,"): ").concat(i.statusText)),n&&n.includes("application/json")){let e=await i.json();throw Error(e.message||"API request failed with status ".concat(i.status))}{let e=await i.text();console.error("Non-JSON error response:",e.substring(0,150)+"...");let t="API request failed with status ".concat(i.status);if(e.includes("<title>")&&e.includes("</title>")){let s=e.match(/<title>(.*?)<\/title>/i);s&&s[1]&&(t="Server Error: ".concat(s[1]))}throw Error(t)}}if(e.match(/^\/books\/[a-z0-9]+$/i)&&n&&n.includes("application/json"))try{let e=await i.json();return e&&"object"==typeof e&&(console.log("Raw premium data from API:",{isPremium:e.isPremium,isPremiumType:typeof e.isPremium,price:e.price,priceType:typeof e.price}),e.price&&"object"==typeof e.price&&e.price.$numberLong&&(e.price=Number(e.price.$numberLong),console.log("Extracted $numberLong price:",e.price)),"isPremium"in e&&(e.isPremium=!0===e.isPremium||"true"===e.isPremium||1===e.isPremium||"true"===String(e.isPremium).toLowerCase()),"price"in e&&(e.price=Number(e.price||0)),!e.isPremium&&e.price>0&&(e.isPremium=!0,console.log("API Utils: Setting isPremium=true based on price > 0")),console.log("API Utils - Processed book details:",{title:e.title,isPremium:e.isPremium,price:e.price})),e}catch(e){throw console.error("Error parsing book details:",e),e}if(n&&n.includes("application/json"))return await i.json();{console.warn("Response is not JSON. Content-Type:",n);let e=await i.text();try{return JSON.parse(e)}catch(e){throw console.error("Failed to parse response as JSON:",e),Error("API response was not valid JSON")}}}catch(e){throw console.error("API request error:",e),e}}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(e,{method:"GET",...t})}async function c(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n(e,{method:"POST",body:t instanceof FormData?t:JSON.stringify(t),...s})}async function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n(e,{method:"PUT",body:JSON.stringify(t),...s})}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(e,{method:"DELETE",...t})}async function u(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n(e,{method:"PATCH",body:JSON.stringify(t),...s})}},72390:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var o=s(12115),r=s(52596),i=s(17472),n=s(14391),a=s(75955),c=s(40680),l=s(77856),d=s(55170),u=s(90870);function h(e){return(0,u.Ay)("MuiDivider",e)}(0,d.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var p=s(95155);let m=e=>{let{absolute:t,children:s,classes:o,flexItem:r,light:n,orientation:a,textAlign:c,variant:l}=e;return(0,i.A)({root:["root",t&&"absolute",l,n&&"light","vertical"===a&&"vertical",r&&"flexItem",s&&"withChildren",s&&"vertical"===a&&"withChildrenVertical","right"===c&&"vertical"!==a&&"textAlignRight","left"===c&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},h,o)},g=(0,a.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:s}=e;return[t.root,s.absolute&&t.absolute,t[s.variant],s.light&&t.light,"vertical"===s.orientation&&t.vertical,s.flexItem&&t.flexItem,s.children&&t.withChildren,s.children&&"vertical"===s.orientation&&t.withChildrenVertical,"right"===s.textAlign&&"vertical"!==s.orientation&&t.textAlignRight,"left"===s.textAlign&&"vertical"!==s.orientation&&t.textAlignLeft]}})((0,c.A)(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,n.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),y=(0,a.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:s}=e;return[t.wrapper,"vertical"===s.orientation&&t.wrapperVertical]}})((0,c.A)(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),b=o.forwardRef(function(e,t){let s=(0,l.b)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:i,className:n,orientation:a="horizontal",component:c=i||"vertical"===a?"div":"hr",flexItem:d=!1,light:u=!1,role:h="hr"!==c?"separator":void 0,textAlign:b="center",variant:x="fullWidth",...f}=s,v={...s,absolute:o,component:c,flexItem:d,light:u,orientation:a,role:h,textAlign:b,variant:x},_=m(v);return(0,p.jsx)(g,{as:c,className:(0,r.A)(_.root,n),role:h,ref:t,ownerState:v,"aria-orientation":"separator"===h&&("hr"!==c||"vertical"===a)?a:void 0,...f,children:i?(0,p.jsx)(y,{className:_.wrapper,ownerState:v,children:i}):null})});b&&(b.muiSkipListHighlight=!0);let x=b}},e=>{var t=t=>e(e.s=t);e.O(0,[2619,6711,6874,4233,7628,4180,8441,1684,7358],()=>t(2882)),_N_E=e.O()}]);