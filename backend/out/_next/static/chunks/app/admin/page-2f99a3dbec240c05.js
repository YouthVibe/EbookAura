(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{47544:e=>{e.exports={container:"admin_container__uVSVc",title:"admin_title__cLzhO",tabs:"admin_tabs__7q5Ma",tab:"admin_tab__3pwcu",activeTab:"admin_activeTab__GZaQ8",tabContent:"admin_tabContent__hNXoi",searchContainer:"admin_searchContainer__kL4Hc",search:"admin_search__c4hwg",searchIcon:"admin_searchIcon__HTKcv",searchInput:"admin_searchInput__Ylvz_",loading:"admin_loading__OjQcq",error:"admin_error__Cw8at",noResults:"admin_noResults__T6qDu",tableContainer:"admin_tableContainer__GVxxO",table:"admin_table__Wi_BD",userName:"admin_userName__T5jos",status:"admin_status__QOVm_",active:"admin_active__3D2D6",banned:"admin_banned__btdd7",adminStatus:"admin_adminStatus__3Da9D",isAdmin:"admin_isAdmin__GL8na",actions:"admin_actions__quNLt",actionButton:"admin_actionButton__sA_2Z",banButton:"admin_banButton__q_y5Y",unbanButton:"admin_unbanButton__W_A6t",deleteButton:"admin_deleteButton__CwIux",bookGrid:"admin_bookGrid__3rKuo",bookCard:"admin_bookCard__gV2SK",bookCover:"admin_bookCover__HmZod",placeholderCover:"admin_placeholderCover__SH1F7",bookInfo:"admin_bookInfo__frg_2",bookTitle:"admin_bookTitle__Kx_Oj",bookAuthor:"admin_bookAuthor__lV80i",bookCategory:"admin_bookCategory__uOK05",bookStats:"admin_bookStats__hC9AF",stat:"admin_stat__xyVzX",bookMeta:"admin_bookMeta__8Au3D",bookDate:"admin_bookDate__C2L3U",bookUploader:"admin_bookUploader__6cGyv",bookActions:"admin_bookActions__EE5lT",bookAction:"admin_bookAction__sRlpm",editButton:"admin_editButton__TQW_p",modalOverlay:"admin_modalOverlay___9oQR",fadeIn:"admin_fadeIn__fe57e",modal:"admin_modal__DNvY3",slideIn:"admin_slideIn__i5BOb",modalButtons:"admin_modalButtons__zUpVq",cancelButton:"admin_cancelButton__1fEHQ",disabledButton:"admin_disabledButton__h30Dz",confirmButton:"admin_confirmButton__EoHw2",editBookModal:"admin_editBookModal__BFDuH",modalHeader:"admin_modalHeader__frRax",closeButton:"admin_closeButton__zfJji",editBookForm:"admin_editBookForm__6f4Tn",formGrid:"admin_formGrid__6WL_6",formGroup:"admin_formGroup__W0nf_",checkboxGroup:"admin_checkboxGroup__9m3zc",tagInput:"admin_tagInput__H84KO",selectedTags:"admin_selectedTags__If08x",tag:"admin_tag__jglI3",fileUploads:"admin_fileUploads__l4JbV",fileGroup:"admin_fileGroup__fN56K",fileInputContainer:"admin_fileInputContainer__CLEPS",fileInput:"admin_fileInput__vM_4F",fileInputLabel:"admin_fileInputLabel__hOhf0",fileName:"admin_fileName__DNd71",modalFooter:"admin_modalFooter__jGFWx",saveButton:"admin_saveButton__CPkRZ",adminActions:"admin_adminActions__SHyvh",adminActionButton:"admin_adminActionButton__s6__7",cleanupResults:"admin_cleanupResults__Jmv_L",cleanupSummary:"admin_cleanupSummary__OyN_e",cleanupErrors:"admin_cleanupErrors__GCYMs",cleanupError:"admin_cleanupError__uYCYW"}},58887:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>N});var n=t(95155),s=t(12115),o=t(35695),i=t(29911),r=t(72047);let l=async()=>{try{let e=localStorage.getItem("token"),a=localStorage.getItem("apiKey");if(!e||!a)throw Error("Authentication required");return await (0,r.dw)("/admin/users",{headers:{Authorization:"Bearer ".concat(e),"X-API-Key":a}})}catch(e){throw console.error("Error fetching users:",e),e}},c=async e=>{try{let a=localStorage.getItem("token"),t=localStorage.getItem("apiKey");if(!a||!t)throw Error("Authentication required");return await (0,r.q1)("/admin/users/".concat(e,"/ban"),{},{headers:{Authorization:"Bearer ".concat(a),"X-API-Key":t}})}catch(e){throw console.error("Error toggling user ban status:",e),e}},d=async e=>{try{let a=localStorage.getItem("token"),t=localStorage.getItem("apiKey");if(!a||!t)throw Error("Authentication required");return await (0,r._5)("/admin/users/".concat(e),{headers:{Authorization:"Bearer ".concat(a),"X-API-Key":t}})}catch(e){throw console.error("Error deleting user:",e),e}},u=async()=>{try{let e=localStorage.getItem("token"),a=localStorage.getItem("apiKey");if(!e||!a)throw Error("Authentication required");return await (0,r.dw)("/admin/books",{headers:{Authorization:"Bearer ".concat(e),"X-API-Key":a}})}catch(e){throw console.error("Error fetching books:",e),e}},m=async e=>{try{let a=localStorage.getItem("token"),t=localStorage.getItem("apiKey");if(!a||!t)throw Error("Authentication required");return await (0,r._5)("/admin/books/".concat(e),{headers:{Authorization:"Bearer ".concat(a),"X-API-Key":t}})}catch(e){throw console.error("Error deleting book:",e),e}},h=async()=>{try{let e=localStorage.getItem("token"),a=localStorage.getItem("apiKey");if(!e||!a)throw Error("Authentication required");return await (0,r.Xj)("/admin/cleanup-cloudinary",{},{headers:{Authorization:"Bearer ".concat(e),"X-API-Key":a}})}catch(e){throw console.error("Error cleaning up Cloudinary resources:",e),e}},_=async(e,a)=>{try{let t=localStorage.getItem("token"),n=localStorage.getItem("apiKey");if(!t||!n)throw Error("Authentication required");let s=await fetch("".concat("https://ebookaura.onrender.com/api","/admin/books/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"X-API-Key":n},body:a});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to update book")}return await s.json()}catch(e){throw console.error("Error updating book:",e),e}};var p=t(56068),x=t(47544),b=t.n(x);t(6874);var j=t(54544),g=t(10351);let v=e=>{let{isOpen:a,title:t,message:s,onConfirm:o,onCancel:i,isDeleting:r}=e;return a?(0,n.jsx)("div",{className:b().modalOverlay,children:(0,n.jsxs)("div",{className:b().modal,children:[(0,n.jsx)("h2",{children:t}),(0,n.jsx)("p",{children:s}),(0,n.jsxs)("div",{className:b().modalButtons,children:[(0,n.jsx)("button",{onClick:i,className:"".concat(b().cancelButton," ").concat(r?b().disabledButton:""),disabled:r,children:"Cancel"}),(0,n.jsx)("button",{onClick:o,className:"".concat(b().confirmButton," ").concat(r?b().disabledButton:""),disabled:r,children:r?"Processing...":"Confirm"})]})]})}):null},f=e=>{let{isOpen:a,book:t,onSave:o,onCancel:r,isSaving:l}=e,[c,d]=(0,s.useState)({title:"",author:"",description:"",category:"",tags:[],pageSize:0,isPremium:!1,price:0}),[u,m]=(0,s.useState)(null),[h,_]=(0,s.useState)(null),[p,x]=(0,s.useState)("No new PDF selected"),[j,v]=(0,s.useState)("No new cover image selected"),[f,N]=(0,s.useState)(""),[y,k]=(0,s.useState)("");if((0,s.useEffect)(()=>{t&&a&&(d({title:t.title||"",author:t.author||"",description:t.description||"",category:t.category||"",tags:t.tags||[],pageSize:t.pageSize||0,isPremium:t.isPremium||!1,price:t.price||0}),x("No new PDF selected"),v("No new cover image selected"),m(null),_(null),k(""))},[t,a]),!a)return null;let C=e=>{let{name:a,value:t,type:n,checked:s}=e.target;d(e=>({...e,[a]:"checkbox"===n?s:t}))},B=e=>{d(a=>({...a,tags:a.tags.filter(a=>a!==e)}))};return(0,n.jsx)("div",{className:b().modalOverlay,children:(0,n.jsxs)("div",{className:"".concat(b().modal," ").concat(b().editBookModal),children:[(0,n.jsxs)("div",{className:b().modalHeader,children:[(0,n.jsx)("h2",{children:"Edit Book"}),(0,n.jsx)("button",{onClick:r,className:"".concat(b().closeButton," ").concat(l?b().disabledButton:""),disabled:l,children:(0,n.jsx)(g.yGN,{})})]}),y&&(0,n.jsx)("div",{className:b().error,children:y}),(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!c.title||!c.author||!c.description||!c.category)return void k("Please fill all required fields");let a=new FormData;Object.keys(c).forEach(e=>{"tags"===e?a.append(e,JSON.stringify(c[e])):a.append(e,c[e])}),u&&a.append("pdf",u),h&&a.append("cover",h),o(t._id,a)},className:b().editBookForm,children:[(0,n.jsxs)("div",{className:b().formGrid,children:[(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{htmlFor:"title",children:"Title *"}),(0,n.jsx)("input",{type:"text",id:"title",name:"title",value:c.title,onChange:C,required:!0,maxLength:100})]}),(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{htmlFor:"author",children:"Author *"}),(0,n.jsx)("input",{type:"text",id:"author",name:"author",value:c.author,onChange:C,required:!0})]}),(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{htmlFor:"description",children:"Description *"}),(0,n.jsx)("textarea",{id:"description",name:"description",value:c.description,onChange:C,rows:3,required:!0,maxLength:200}),(0,n.jsxs)("small",{children:[c.description.length,"/200 characters"]})]}),(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{htmlFor:"category",children:"Category *"}),(0,n.jsx)("input",{type:"text",id:"category",name:"category",value:c.category,onChange:C,required:!0})]}),(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{htmlFor:"pageSize",children:"Page Count *"}),(0,n.jsx)("input",{type:"number",id:"pageSize",name:"pageSize",value:c.pageSize,onChange:C,min:1,required:!0})]}),(0,n.jsx)("div",{className:b().formGroup,children:(0,n.jsxs)("div",{className:b().checkboxGroup,children:[(0,n.jsx)("input",{type:"checkbox",id:"isPremium",name:"isPremium",checked:c.isPremium,onChange:C}),(0,n.jsx)("label",{htmlFor:"isPremium",children:"Premium Book"})]})}),c.isPremium&&(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{htmlFor:"price",children:"Price (coins) *"}),(0,n.jsx)("input",{type:"number",id:"price",name:"price",value:c.price,onChange:C,min:0,required:c.isPremium})]})]}),(0,n.jsxs)("div",{className:b().formGroup,children:[(0,n.jsx)("label",{children:"Tags"}),(0,n.jsx)("div",{className:b().tagInput,children:(0,n.jsx)("input",{type:"text",value:f,onChange:e=>{N(e.target.value)},onKeyDown:e=>{if("Enter"===e.key&&f.trim()){e.preventDefault();let a=f.trim();c.tags.includes(a)||d(e=>({...e,tags:[...e.tags,a]})),N("")}},placeholder:"Add a tag and press Enter"})}),(0,n.jsx)("div",{className:b().selectedTags,children:c.tags.map((e,a)=>(0,n.jsxs)("span",{className:b().tag,children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>B(e),children:"\xd7"})]},a))}),(0,n.jsx)("small",{children:"Press Enter to add a tag"})]}),(0,n.jsxs)("div",{className:b().fileUploads,children:[(0,n.jsxs)("div",{className:b().fileGroup,children:[(0,n.jsx)("label",{children:"Update PDF File"}),(0,n.jsxs)("div",{className:b().fileInputContainer,children:[(0,n.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{let a=e.target.files[0];if(a){if("application/pdf"!==a.type){k("Please select a PDF file"),m(null),x("No new PDF selected");return}if(a.size>0x1400000){k("PDF file size should be less than 20MB"),m(null),x("No new PDF selected");return}m(a),x(a.name),k("")}},id:"pdf-upload",className:b().fileInput}),(0,n.jsxs)("label",{htmlFor:"pdf-upload",className:b().fileInputLabel,children:[(0,n.jsx)(i.BzO,{})," Choose New PDF"]}),(0,n.jsx)("span",{className:b().fileName,children:p})]}),(0,n.jsx)("small",{children:"Leave empty to keep the current PDF"})]}),(0,n.jsxs)("div",{className:b().fileGroup,children:[(0,n.jsx)("label",{children:"Update Cover Image"}),(0,n.jsxs)("div",{className:b().fileInputContainer,children:[(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];if(a){if(!a.type.startsWith("image/")){k("Please select an image file for the cover"),_(null),v("No new cover image selected");return}if(a.size>5242880){k("Cover image size should be less than 5MB"),_(null),v("No new cover image selected");return}_(a),v(a.name),k("")}},id:"cover-upload",className:b().fileInput}),(0,n.jsxs)("label",{htmlFor:"cover-upload",className:b().fileInputLabel,children:[(0,n.jsx)(i.BzO,{})," Choose New Cover"]}),(0,n.jsx)("span",{className:b().fileName,children:j})]}),(0,n.jsx)("small",{children:"Leave empty to keep the current cover"})]})]}),(0,n.jsxs)("div",{className:b().modalFooter,children:[(0,n.jsx)("button",{type:"button",onClick:r,className:"".concat(b().cancelButton," ").concat(l?b().disabledButton:""),disabled:l,children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"".concat(b().saveButton," ").concat(l?b().disabledButton:""),disabled:l,children:l?"Saving...":"Save Changes"})]})]})]})})};function N(){var e,a,t,r;let[x,N]=(0,s.useState)("users"),[y,k]=(0,s.useState)([]),[C,B]=(0,s.useState)([]),[w,S]=(0,s.useState)(!0),[A,I]=(0,s.useState)(null),[E,D]=(0,s.useState)({isOpen:!1,type:"",id:null,title:"",message:""}),[F,P]=(0,s.useState)(!1),[G,z]=(0,s.useState)(""),[O,L]=(0,s.useState)(""),[q,T]=(0,s.useState)(!1),[K,U]=(0,s.useState)(null),[R,M]=(0,s.useState)(!1),[H,V]=(0,s.useState)(null),[W,X]=(0,s.useState)(!1),[Y,Q]=(0,s.useState)(null),[J,Z]=(0,s.useState)(!1),$=(0,o.useRouter)(),{user:ee}=(0,p.h)();(0,s.useEffect)(()=>{ee&&(ee.isAdmin||$.push("/"))},[ee,$]),(0,s.useEffect)(()=>{(async()=>{try{if(S(!0),I(null),"users"===x){let e=await l();k(e)}else if("books"===x){let e=await u();B(e)}}catch(e){console.error("Error fetching ".concat(x,":"),e),I("Failed to load ".concat(x,". ").concat(e.message))}finally{S(!1)}})()},[x]);let ea=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),et=e=>{N(e)},en=(e,a,t,n)=>{D({isOpen:!0,type:e,id:a,title:t,message:n})},es=()=>{D({isOpen:!1,type:"",id:null,title:"",message:""})},eo=async()=>{try{switch(P(!0),E.type){case"ban-user":await c(E.id),k(y.map(e=>e._id===E.id?{...e,isBanned:!e.isBanned}:e));break;case"delete-user":await d(E.id),k(y.filter(e=>e._id!==E.id));break;case"delete-book":await m(E.id),B(C.filter(e=>e._id!==E.id))}es()}catch(e){console.error("Error processing action:",e),I("Action failed: ".concat(e.message))}finally{P(!1)}},ei=y.filter(e=>{let a=G.toLowerCase();return e.name.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)}),er=C.filter(e=>{let a=O.toLowerCase();return e.title.toLowerCase().includes(a)||e.author.toLowerCase().includes(a)||e.category.toLowerCase().includes(a)}),el=async()=>{try{M(!0);let e=await h();V(e)}catch(e){console.error("Error cleaning up Cloudinary resources:",e),V({success:!1,error:e.message||"Failed to cleanup Cloudinary resources"})}finally{M(!1)}},ec=e=>{Q(e),X(!0)},ed=async(e,a)=>{try{Z(!0),I(null);let t=await _(e,a);B(C.map(a=>a._id===e?t.book:a)),X(!1),Q(null)}catch(e){console.error("Error updating book:",e),I("Failed to update book: ".concat(e.message))}finally{Z(!1)}};return ee?ee&&!ee.isAdmin?(0,n.jsx)("div",{className:b().error,children:"Access denied. Admin privileges required."}):(0,n.jsxs)("div",{className:b().container,children:[(0,n.jsx)("h1",{className:b().title,children:"Admin Dashboard"}),(0,n.jsxs)("div",{className:b().tabs,children:[(0,n.jsxs)("button",{className:"".concat(b().tab," ").concat("users"===x?b().activeTab:""),onClick:()=>et("users"),children:[(0,n.jsx)(i.x$1,{})," Manage Users"]}),(0,n.jsxs)("button",{className:"".concat(b().tab," ").concat("books"===x?b().activeTab:""),onClick:()=>et("books"),children:[(0,n.jsx)(i.vd0,{})," Manage Books"]})]}),A&&(0,n.jsx)("div",{className:b().error,children:A}),(0,n.jsx)("div",{className:b().adminActions,children:(0,n.jsxs)("button",{className:"".concat(b().adminActionButton," ").concat(R?b().disabledButton:""),onClick:el,disabled:R,children:[(0,n.jsx)(g.DmM,{}),R?"Cleaning up...":"Cleanup Cloudinary Resources"]})}),H&&(0,n.jsxs)("div",{className:b().cleanupResults,children:[(0,n.jsx)("h3",{children:"Cloudinary Cleanup Results"}),(0,n.jsx)("div",{className:b().cleanupSummary,children:H.error?(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Error:"})," ",H.error||"Unknown error occurred"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Status:"})," Success"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"PDFs Cleaned:"})," ",(null==(a=H.deleted)||null==(e=a.pdfs)?void 0:e.length)||0]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Covers Cleaned:"})," ",(null==(r=H.deleted)||null==(t=r.covers)?void 0:t.length)||0]}),H.errors&&H.errors.length>0&&(0,n.jsxs)("p",{className:b().cleanupErrors,children:[(0,n.jsx)("strong",{children:"Errors:"}),H.errors.map((e,a)=>(0,n.jsxs)("div",{className:b().cleanupError,children:["pdf"===e.type?"PDF: ":"Cover: ",e.id?"".concat(e.id," - "):"",e.error||e]},a))]})]})})]}),"users"===x&&(0,n.jsxs)("div",{className:b().tabContent,children:[(0,n.jsx)("div",{className:b().searchContainer,children:(0,n.jsx)(j.A,{placeholder:"Search users by name or email...",onSearch:z,initialValue:G,debounceTime:500,className:b().searchBar})}),w?(0,n.jsx)("div",{className:b().loading,children:"Loading users..."}):ei.length>0?(0,n.jsx)("div",{className:b().tableContainer,children:(0,n.jsxs)("table",{className:b().table,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Email"}),(0,n.jsx)("th",{children:"Joined"}),(0,n.jsx)("th",{children:"Status"}),(0,n.jsx)("th",{children:"Admin"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:ei.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:b().userName,children:e.name}),(0,n.jsx)("td",{children:e.email}),(0,n.jsx)("td",{children:ea(e.createdAt)}),(0,n.jsx)("td",{children:(0,n.jsx)("span",{className:"".concat(b().status," ").concat(e.isBanned?b().banned:b().active),children:e.isBanned?"Banned":"Active"})}),(0,n.jsx)("td",{children:(0,n.jsx)("span",{className:"".concat(b().adminStatus," ").concat(e.isAdmin?b().isAdmin:""),children:e.isAdmin?"Yes":"No"})}),(0,n.jsx)("td",{className:b().actions,children:!e.isAdmin&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"".concat(b().actionButton," ").concat(e.isBanned?b().unbanButton:b().banButton),onClick:()=>en("ban-user",e._id,e.isBanned?"Unban User":"Ban User",e.isBanned?"Are you sure you want to unban ".concat(e.name,"?"):"Are you sure you want to ban ".concat(e.name,"? They will no longer be able to log in.")),title:e.isBanned?"Unban User":"Ban User",children:e.isBanned?(0,n.jsx)(i.YVu,{}):(0,n.jsx)(i.Rqy,{})}),(0,n.jsx)("button",{className:"".concat(b().actionButton," ").concat(b().deleteButton),onClick:()=>en("delete-user",e._id,"Delete User","Are you sure you want to permanently delete ".concat(e.name,"? This action cannot be undone.")),title:"Delete User",children:(0,n.jsx)(i.qbC,{})})]})})]},e._id))})]})}):(0,n.jsx)("div",{className:b().noResults,children:"No users found"})]}),"books"===x&&(0,n.jsxs)("div",{className:b().tabContent,children:[(0,n.jsx)("div",{className:b().searchContainer,children:(0,n.jsx)(j.A,{placeholder:"Search books by title, author, or category...",onSearch:L,initialValue:O,debounceTime:500,className:b().searchBar})}),w?(0,n.jsx)("div",{className:b().loading,children:"Loading books..."}):er.length>0?(0,n.jsx)("div",{className:b().bookGrid,children:er.map(e=>(0,n.jsxs)("div",{className:b().bookCard,children:[(0,n.jsx)("div",{className:b().bookCover,children:e.coverImage?(0,n.jsx)("img",{src:e.coverImage,alt:e.title}):(0,n.jsx)("div",{className:b().placeholderCover,children:(0,n.jsx)(i.vd0,{})})}),(0,n.jsxs)("div",{className:b().bookInfo,children:[(0,n.jsx)("h3",{className:b().bookTitle,children:e.title}),(0,n.jsxs)("p",{className:b().bookAuthor,children:["by ",e.author]}),(0,n.jsx)("p",{className:b().bookCategory,children:e.category}),(0,n.jsxs)("div",{className:b().bookStats,children:[(0,n.jsxs)("span",{className:b().stat,children:[(0,n.jsx)(i.Ny1,{})," ",e.views||0]}),(0,n.jsxs)("span",{className:b().stat,children:[(0,n.jsx)(i.WCW,{})," ",e.downloads||0]}),(0,n.jsxs)("span",{className:b().stat,children:[(0,n.jsx)(i.gt3,{})," ",e.averageRating?e.averageRating.toFixed(1):"0.0"]})]}),(0,n.jsxs)("div",{className:b().bookMeta,children:[(0,n.jsxs)("span",{className:b().bookDate,children:[(0,n.jsx)(i.bfZ,{})," ",ea(e.createdAt)]}),e.uploadedBy&&(0,n.jsxs)("span",{className:b().bookUploader,children:[(0,n.jsx)(i.x$1,{})," ",e.uploadedBy.name]})]}),(0,n.jsxs)("div",{className:b().bookActions,children:[(0,n.jsxs)("button",{className:"".concat(b().bookAction," ").concat(b().editButton),onClick:()=>ec(e),title:"Edit Book",children:[(0,n.jsx)(i.uO9,{})," Edit"]}),(0,n.jsxs)("button",{className:"".concat(b().bookAction," ").concat(b().deleteButton),onClick:()=>en("delete-book",e._id,"Delete Book",'Are you sure you want to permanently delete "'.concat(e.title,'"? This will delete the book record, PDF file, cover image, and all associated reviews and bookmarks. This action cannot be undone.')),title:"Delete Book",children:[(0,n.jsx)(i.qbC,{})," Delete"]})]})]})]},e._id))}):(0,n.jsx)("div",{className:b().noResults,children:"No books found"})]}),(0,n.jsx)(v,{isOpen:E.isOpen,title:E.title,message:E.message,onConfirm:eo,onCancel:es,isDeleting:F}),(0,n.jsx)(f,{isOpen:W,book:Y,onSave:ed,onCancel:()=>X(!1),isSaving:J})]}):(0,n.jsx)("div",{className:b().loading,children:"Checking authentication..."})}},71420:(e,a,t)=>{Promise.resolve().then(t.bind(t,58887))}},e=>{var a=a=>e(e.s=a);e.O(0,[2227,6711,844,6874,9912,8441,1684,7358],()=>a(71420)),_N_E=e.O()}]);