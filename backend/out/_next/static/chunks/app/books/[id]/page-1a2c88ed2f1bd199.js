(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{10255:(e,n,t)=>{"use strict";function r(e){let{moduleIds:n}=e;return null}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadChunks",{enumerable:!0,get:function(){return r}}),t(95155),t(47650),t(85744),t(20589)},17828:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,t(64054).createAsyncLocalStorage)()},28756:(e,n,t)=>{Promise.resolve().then(t.bind(t,62146)),Promise.resolve().then(t.bind(t,10255)),Promise.resolve().then(t.bind(t,89777))},35695:(e,n,t)=>{"use strict";var r=t(18999);t.o(r,"useParams")&&t.d(n,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(n,{useSearchParams:function(){return r.useSearchParams}})},36645:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});let r=t(88229)._(t(67357));function o(e,n){var t;let o={};"function"==typeof e&&(o.loader=e);let a={...o,...n};return(0,r.default)({...a,modules:null==(t=a.loadableGenerated)?void 0:t.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},55028:(e,n,t)=>{"use strict";t.d(n,{default:()=>o.a});var r=t(36645),o=t.n(r)},62146:(e,n,t)=>{"use strict";function r(e){let{reason:n,children:t}=e;return t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),t(45262)},64054:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,n){for(var t in n)Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}(n,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return l}});let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let o="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return o?new o:new r}function s(e){return o?o.bind(e):r.bind(e)}function l(){return o?o.snapshot():function(e,...n){return e(...n)}}},67357:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});let r=t(95155),o=t(12115),a=t(62146);function s(e){return{default:e&&"default"in e?e.default:e}}t(10255);let l={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},u=function(e){let n={...l,...e},t=(0,o.lazy)(()=>n.loader().then(s)),u=n.loading;function i(e){let s=u?(0,r.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,l=!n.ssr||!!n.loading,i=l?o.Suspense:o.Fragment,d=n.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(t,{...e})]}):(0,r.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(i,{...l?{fallback:s}:{},children:d})}return i.displayName="LoadableComponent",i}},85744:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=t(17828)},89777:(e,n,t)=>{"use strict";t.d(n,{default:()=>l});var r=t(95155),o=t(12115),a=t(35695);let s=(0,t(55028).default)(()=>Promise.all([t.e(6215),t.e(6711),t.e(5479),t.e(8087),t.e(6874),t.e(8808)]).then(t.bind(t,54677)),{loadableGenerated:{webpack:()=>[54677]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"Loading book information..."})]})});function l(e){let{params:n}=e,[t,l]=(0,o.useState)((null==n?void 0:n.id)||""),[u,i]=(0,o.useState)(!0),[d,c]=(0,o.useState)(""),f=(0,a.useParams)(),b=(0,a.usePathname)(),h=(0,a.useRouter)();return((0,o.useEffect)(()=>{(()=>{if(null==n?void 0:n.id){if("not-found"===n.id){console.error("Not-found ID detected, showing error UI"),c("Book not found. Please try searching for another book."),i(!1);return}console.log("Using server-provided ID:",n.id),l(n.id),i(!1);return}if(null==f?void 0:f.id){if("not-found"===f.id){console.error("Not-found ID detected, showing error UI"),c("Book not found. Please try searching for another book."),i(!1);return}console.log("Using client params ID:",f.id),l(f.id),i(!1);return}try{let e=b.split("/"),n=e[e.length-1],t=n.endsWith("/")?n.substring(0,n.length-1):n;if(t&&""!==t&&"not-found"!==t)console.log("Using ID extracted from path:",t),l(t);else throw Error("Could not extract valid book ID from path")}catch(e){console.error("Error determining book ID:",e),c("Could not determine which book to display")}finally{i(!1)}})()},[n,f,b,h]),u)?(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"Loading book information..."})]}):d?(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("h2",{children:"Error"}),(0,r.jsx)("p",{children:d}),(0,r.jsx)("button",{onClick:()=>h.back(),className:"back-button",children:"Go Back"})]}):t&&"not-found"!==t?(0,r.jsx)(s,{id:t}):(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("h2",{children:"Book Not Found"}),(0,r.jsx)("p",{children:"The requested book could not be found."}),(0,r.jsx)("button",{onClick:()=>h.push("/search"),className:"back-button",children:"Browse Books"})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[8441,1684,7358],()=>n(28756)),_N_E=e.O()}]);