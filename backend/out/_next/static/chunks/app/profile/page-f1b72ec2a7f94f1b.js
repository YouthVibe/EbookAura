(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{29822:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>x});var a=i(95155),l=i(72047),n=i(12115),t=i(35695),r=i(6874),o=i.n(r),c=i(66766),d=i(29911),h=i(56068),m=i(53716),f=i.n(m);function x(){let{user:e,logout:s,getToken:i}=(0,h.h)(),r=(0,t.useRouter)(),[m,x]=(0,n.useState)(null),[N,j]=(0,n.useState)(!0),[u,p]=(0,n.useState)("");(0,n.useEffect)(()=>{if(!e&&!N)return void r.push("/login");e&&g()},[e,r]);let g=async()=>{j(!0),p("");try{let e=i();if(!e)throw Error("No authentication token found");let s=await (0,l.dw)("/users/profile",{headers:{Authorization:"Bearer ".concat(e)}});x(s)}catch(e){console.error("Error fetching profile data:",e),p(e.message||"An error occurred while fetching your profile")}finally{j(!1)}};return N?(0,a.jsx)("div",{className:f().container,children:(0,a.jsx)("div",{className:f().profileContainer,children:(0,a.jsx)("div",{className:f().loading,children:(0,a.jsx)("div",{className:f().loadingAnimation})})})}):e?(0,a.jsx)("div",{className:f().container,style:{marginTop:"20px"},children:(0,a.jsxs)("div",{className:f().profileContainer,children:[(0,a.jsxs)("div",{className:f().header,children:[(0,a.jsxs)(o(),{href:"/",className:f().backLink,children:[(0,a.jsx)(d.QVr,{className:f().backIcon}),"Back to Home"]}),(0,a.jsx)("h1",{className:f().headerTitle,style:{marginTop:"40px"},children:"My Profile"}),(0,a.jsx)("p",{className:f().headerSubtitle,style:{marginTop:"10px"},children:"Manage your account information"})]}),u&&(0,a.jsx)("div",{className:f().errorMessage,children:u}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:f().avatarSection,children:[(0,a.jsx)(c.default,{src:m.profileImage||"/logo.svg",alt:"Profile",width:120,height:120,className:f().avatar,style:{objectFit:"cover",marginTop:"10px"}}),(0,a.jsxs)(o(),{href:"/profile/upload-image",className:f().editAvatarButton,children:[(0,a.jsx)(d.p5B,{className:f().editIcon}),"Change Photo"]})]}),(0,a.jsxs)("div",{className:f().profileContent,children:[(0,a.jsxs)("div",{className:f().infoSection,children:[(0,a.jsxs)("div",{className:f().infoHeader,children:[(0,a.jsx)("h2",{className:f().infoTitle,children:"Personal Information"}),(0,a.jsxs)(o(),{href:"/profile/edit",className:f().editButton,children:[(0,a.jsx)(d.uO9,{className:f().editIcon}),"Edit"]})]}),(0,a.jsxs)("div",{className:f().infoGrid,children:[(0,a.jsxs)("div",{className:f().infoItem,children:[(0,a.jsx)("p",{className:f().infoLabel,children:"Username"}),(0,a.jsx)("p",{className:f().infoValue,children:m.name})]}),(0,a.jsxs)("div",{className:f().infoItem,children:[(0,a.jsx)("p",{className:f().infoLabel,children:"Full Name"}),(0,a.jsx)("p",{className:f().infoValue,children:m.fullName||"Not provided"})]}),(0,a.jsxs)("div",{className:f().infoItem,children:[(0,a.jsx)("p",{className:f().infoLabel,children:"Email"}),(0,a.jsx)("p",{className:f().infoValue,style:{wordBreak:"break-word"},children:m.email})]}),(0,a.jsxs)("div",{className:f().infoItem,children:[(0,a.jsx)("p",{className:f().infoLabel,children:"Account Created"}),(0,a.jsx)("p",{className:f().infoValue,children:new Date(m.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:f().infoItem,children:[(0,a.jsx)("p",{className:f().infoLabel,children:"Email Verified"}),(0,a.jsx)("p",{className:f().infoValue,children:m.isEmailVerified?"Yes":"No"})]}),(e&&e.isAdmin||m&&m.isAdmin)&&(0,a.jsxs)("div",{className:f().infoItem,children:[(0,a.jsx)("p",{className:f().infoLabel,children:"Admin Status"}),(0,a.jsx)("p",{className:f().infoValue,style:{color:"#e63946",fontWeight:"bold"},children:"Administrator"})]})]})]}),(0,a.jsxs)("div",{className:f().bioSection,children:[(0,a.jsxs)("div",{className:f().bioHeader,children:[(0,a.jsx)("h2",{className:f().bioTitle,children:"About Me"}),(0,a.jsxs)(o(),{href:"/profile/edit",className:f().editButton,children:[(0,a.jsx)(d.uO9,{className:f().editIcon}),"Edit"]})]}),m.bio?(0,a.jsx)("p",{className:f().bioContent,children:m.bio}):(0,a.jsx)("p",{className:f().noBioMessage,children:"No bio information added yet."})]}),(0,a.jsxs)("div",{className:f().actionButtons,children:[e&&e.isAdmin||m&&m.isAdmin?(0,a.jsxs)(o(),{href:"/profile/upload-pdf",className:"".concat(f().editProfileButton," ").concat(f().adminButton),style:{backgroundColor:"#e63946",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z"})}),"Upload PDF"]}):null,(0,a.jsx)(o(),{href:"/profile/edit",className:f().editProfileButton,children:"Edit Profile"}),(0,a.jsxs)(o(),{href:"/profile/api-keys",className:f().editProfileButton,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})}),"API Keys"]}),(0,a.jsxs)(o(),{href:"/settings",className:f().editProfileButton,children:[(0,a.jsx)(d.Pcn,{className:f().buttonIcon}),"Settings"]}),(0,a.jsx)("button",{onClick:()=>{s()},className:f().logoutButton,children:"Log Out"})]})]})]})]})}):null}},48250:(e,s,i)=>{Promise.resolve().then(i.bind(i,29822))}},e=>{var s=s=>e(e.s=s);e.O(0,[3909,6711,6874,7733,7793,8441,1684,7358],()=>s(48250)),_N_E=e.O()}]);