(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{29822:(e,i,o)=>{"use strict";o.r(i),o.d(i,{default:()=>u});var t=o(95155),a=o(72047),r=o(12115),l=o(35695),n=o(6874),s=o.n(n),_=o(66766),c=o(29911),p=o(56068),f=o(53716),d=o.n(f);function u(){let{user:e,logout:i,getToken:o}=(0,p.h)(),n=(0,l.useRouter)(),[f,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),[g,x]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!e&&!m)return void n.push("/login");e&&I()},[e,n]);let I=async()=>{h(!0),x("");try{let e=o();if(!e)throw Error("No authentication token found");let i=await (0,a.dw)("/users/profile",{headers:{Authorization:"Bearer ".concat(e)}});u(i)}catch(e){console.error("Error fetching profile data:",e),x(e.message||"An error occurred while fetching your profile")}finally{h(!1)}};return m?(0,t.jsx)("div",{className:d().container,children:(0,t.jsx)("div",{className:d().profileContainer,children:(0,t.jsx)("div",{className:d().loading,children:(0,t.jsx)("div",{className:d().loadingAnimation})})})}):e?(0,t.jsx)("div",{className:d().container,style:{marginTop:"20px"},children:(0,t.jsxs)("div",{className:d().profileContainer,children:[(0,t.jsxs)("div",{className:d().header,children:[(0,t.jsxs)(s(),{href:"/",className:d().backLink,children:[(0,t.jsx)(c.QVr,{className:d().backIcon}),"Back to Home"]}),(0,t.jsx)("h1",{className:d().headerTitle,style:{marginTop:"40px"},children:"My Profile"}),(0,t.jsx)("p",{className:d().headerSubtitle,style:{marginTop:"10px"},children:"Manage your account information"})]}),g&&(0,t.jsx)("div",{className:d().errorMessage,children:g}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:d().avatarSection,children:[(0,t.jsx)(_.default,{src:f.profileImage||"/logo.svg",alt:"Profile",width:120,height:120,className:d().avatar,style:{objectFit:"cover",marginTop:"10px"}}),(0,t.jsxs)(s(),{href:"/profile/upload-image",className:d().editAvatarButton,children:[(0,t.jsx)(c.p5B,{className:d().editIcon}),"Change Photo"]})]}),(0,t.jsxs)("div",{className:d().profileContent,children:[(0,t.jsxs)("div",{className:d().infoSection,children:[(0,t.jsxs)("div",{className:d().infoHeader,children:[(0,t.jsx)("h2",{className:d().infoTitle,children:"Personal Information"}),(0,t.jsxs)(s(),{href:"/profile/edit",className:d().editButton,children:[(0,t.jsx)(c.uO9,{className:d().editIcon}),"Edit"]})]}),(0,t.jsxs)("div",{className:d().infoGrid,children:[(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsx)("p",{className:d().infoLabel,children:"Username"}),(0,t.jsx)("p",{className:d().infoValue,children:f.name})]}),(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsx)("p",{className:d().infoLabel,children:"Full Name"}),(0,t.jsx)("p",{className:d().infoValue,children:f.fullName||"Not provided"})]}),(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsx)("p",{className:d().infoLabel,children:"Email"}),(0,t.jsx)("p",{className:d().infoValue,style:{wordBreak:"break-word"},children:f.email})]}),(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsx)("p",{className:d().infoLabel,children:"Account Created"}),(0,t.jsx)("p",{className:d().infoValue,children:new Date(f.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsx)("p",{className:d().infoLabel,children:"Email Verified"}),(0,t.jsx)("p",{className:d().infoValue,children:f.isEmailVerified?"Yes":"No"})]}),(e&&e.isAdmin||f&&f.isAdmin)&&(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsx)("p",{className:d().infoLabel,children:"Admin Status"}),(0,t.jsx)("p",{className:d().infoValue,style:{color:"#e63946",fontWeight:"bold"},children:"Administrator"})]})]})]}),(0,t.jsxs)("div",{className:d().bioSection,children:[(0,t.jsxs)("div",{className:d().bioHeader,children:[(0,t.jsx)("h2",{className:d().bioTitle,children:"About Me"}),(0,t.jsxs)(s(),{href:"/profile/edit",className:d().editButton,children:[(0,t.jsx)(c.uO9,{className:d().editIcon}),"Edit"]})]}),f.bio?(0,t.jsx)("p",{className:d().bioContent,children:f.bio}):(0,t.jsx)("p",{className:d().noBioMessage,children:"No bio information added yet."})]}),(0,t.jsxs)("div",{className:d().actionButtons,children:[e&&e.isAdmin||f&&f.isAdmin?(0,t.jsxs)(s(),{href:"/profile/upload-pdf",className:"".concat(d().editProfileButton," ").concat(d().adminButton),style:{backgroundColor:"#e63946",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,t.jsx)("path",{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z"})}),"Upload PDF"]}):null,e&&e.isAdmin||f&&f.isAdmin?(0,t.jsxs)(s(),{href:"/admin",className:"".concat(d().editProfileButton," ").concat(d().adminButton),style:{backgroundColor:"#2a9d8f",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[(0,t.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"})]}),"Admin Dashboard"]}):null,(0,t.jsx)(s(),{href:"/profile/edit",className:d().editProfileButton,children:"Edit Profile"}),(0,t.jsxs)(s(),{href:"/profile/api-keys",className:d().editProfileButton,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,t.jsx)("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})}),"API Keys"]}),(0,t.jsxs)(s(),{href:"/settings",className:d().editProfileButton,children:[(0,t.jsx)(c.Pcn,{className:d().buttonIcon}),"Settings"]}),(0,t.jsx)("button",{onClick:()=>{i()},className:d().logoutButton,children:"Log Out"})]})]})]})]})}):null}},44029:(e,i,o)=>{Promise.resolve().then(o.bind(o,29822))},53716:e=>{e.exports={container:"profile_container__CYebx",profileContainer:"profile_profileContainer__4OeWo",header:"profile_header___W3PQ",headerTitle:"profile_headerTitle__WkqHY",headerSubtitle:"profile_headerSubtitle__JOkrx",backLink:"profile_backLink__3pML1",backIcon:"profile_backIcon___GAPa",profileContent:"profile_profileContent__eyz94",avatarSection:"profile_avatarSection__fZnTm",avatar:"profile_avatar__f2UDF",editAvatarButton:"profile_editAvatarButton__OGJpb",editIcon:"profile_editIcon__7Ufqs",infoSection:"profile_infoSection__P_hRi",infoHeader:"profile_infoHeader__ACTom",infoTitle:"profile_infoTitle__hsoqk",editButton:"profile_editButton__oGUfC",infoGrid:"profile_infoGrid__PmkTz",infoItem:"profile_infoItem__FgGdu",infoLabel:"profile_infoLabel__6oEHc",infoValue:"profile_infoValue__RSQP1",bioSection:"profile_bioSection__s4LcX",bioHeader:"profile_bioHeader__9bOZJ",bioTitle:"profile_bioTitle__bTV9Y",bioContent:"profile_bioContent__M_7_O",noBioMessage:"profile_noBioMessage__2bFjw",loading:"profile_loading__P1qhx",loadingAnimation:"profile_loadingAnimation__MyJOS",spin:"profile_spin__B8_d_",errorMessage:"profile_errorMessage__3vub5",shake:"profile_shake__KgFvi",actionButtons:"profile_actionButtons__rDFEg",logoutButton:"profile_logoutButton__Vjcxn",editProfileButton:"profile_editProfileButton__dgAm8",uploadForm:"profile_uploadForm__WDk1V",fadeIn:"profile_fadeIn__vOW1W",formGroup:"profile_formGroup__umLr_",formRow:"profile_formRow__swpY5",textInput:"profile_textInput__XYias",numberInput:"profile_numberInput__5GsXd",textArea:"profile_textArea__UcFai",categoryInput:"profile_categoryInput__c0odF",tagInput:"profile_tagInput__S_aRB",charCount:"profile_charCount__UOhZi",fileInputContainer:"profile_fileInputContainer__QdFRD",fileInput:"profile_fileInput__X2Y3n",fileInputLabel:"profile_fileInputLabel__E_sOg",uploadIcon:"profile_uploadIcon__XYwxx",fileName:"profile_fileName__KU6lp",uploadButton:"profile_uploadButton__Qsq70",successMessage:"profile_successMessage__q9API",slideDown:"profile_slideDown__xNbZ4",tagInputContainer:"profile_tagInputContainer__YsqsA",selectedTags:"profile_selectedTags__iagaH",tag:"profile_tag__hGgEH",removeTag:"profile_removeTag__sheY8",tagInputWrapper:"profile_tagInputWrapper__7v04N",addTagButton:"profile_addTagButton__yisKO",tagSuggestions:"profile_tagSuggestions__IMG8P",tagSuggestion:"profile_tagSuggestion__ImHcn",categoryInputContainer:"profile_categoryInputContainer__qmXMK",selectedCategory:"profile_selectedCategory__wQRhV",removeCategory:"profile_removeCategory__7aYKa",categoryInputWrapper:"profile_categoryInputWrapper__wCYTS",addCategoryButton:"profile_addCategoryButton__DSAU2",categorySuggestions:"profile_categorySuggestions__ZmhOe",categorySuggestion:"profile_categorySuggestion__BK7q_",spinner:"profile_spinner__0gF1W",adminButton:"profile_adminButton__KhZ97",buttonIcon:"profile_buttonIcon__CHlaF",closeErrorButton:"profile_closeErrorButton__AWv_8",closeSuccessButton:"profile_closeSuccessButton__gl9ox",notificationAlert:"profile_notificationAlert__jWune",fadeInDown:"profile_fadeInDown__i3Fng",progressContainer:"profile_progressContainer__07yVO",completed:"profile_completed__FjM8x",statusText:"profile_statusText__6Zsux",tagLimitInfo:"profile_tagLimitInfo__iVqvG",tagCount:"profile_tagCount__j4tJm",fileRequirements:"profile_fileRequirements__fzpa8",error:"profile_error__423wL",success:"profile_success__XRSVu",charCountWarning:"profile_charCountWarning__3m8ec",fileSize:"profile_fileSize__RInI1",charCountError:"profile_charCountError__riiQL",pdfInputSection:"profile_pdfInputSection__PymR3",pdfInputTabs:"profile_pdfInputTabs__ggHZP",pdfInputTab:"profile_pdfInputTab__y7tDy",activeTab:"profile_activeTab__1AMUy",tabIcon:"profile_tabIcon__gnaRN",urlInputContainer:"profile_urlInputContainer__QXGyY",urlInputLabel:"profile_urlInputLabel__33236",urlIcon:"profile_urlIcon__dctPX",urlInput:"profile_urlInput__9_dB7",urlInputHelp:"profile_urlInputHelp__5ofU6",urlExamples:"profile_urlExamples__jCIpR",urlExampleTitle:"profile_urlExampleTitle__Do5d5",urlExampleList:"profile_urlExampleList__p0XwI"}}},e=>{var i=i=>e(e.s=i);e.O(0,[3909,6711,6874,7733,6068,8441,1684,7358],()=>i(44029)),_N_E=e.O()}]);