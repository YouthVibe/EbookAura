(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8871],{8890:e=>{e.exports={progressContainer:"ProgressBar_progressContainer__MgeA_",statusText:"ProgressBar_statusText__Wmtrr",progressBarOuter:"ProgressBar_progressBarOuter__TJ5h7",progressBarInner:"ProgressBar_progressBarInner__L7gtB",progressBarIndeterminate:"ProgressBar_progressBarIndeterminate__0nnL6",progressIndeterminate:"ProgressBar_progressIndeterminate__vWqBq",percentage:"ProgressBar_percentage___XPGw",completed:"ProgressBar_completed__0Vwpp",pulseGreen:"ProgressBar_pulseGreen__cfo5J",error:"ProgressBar_error__n8Zat",pulseRed:"ProgressBar_pulseRed__jD_ZI"}},17203:(e,t,s)=>{"use strict";s.d(t,{JR:()=>a,Sn:()=>r}),s(72047);let a="http://localhost:5000/api",r={AUTH:{LOGIN:"".concat(a,"/auth/login"),REGISTER:"".concat(a,"/auth/register"),ME:"".concat(a,"/auth/me"),FORGOT_PASSWORD:"".concat(a,"/auth/forgot-password"),RESET_PASSWORD:e=>"".concat(a,"/auth/reset-password/").concat(e),VERIFY_EMAIL:"".concat(a,"/auth/verify-email")},BOOKS:{ALL:"".concat(a,"/books"),CATEGORIES:"".concat(a,"/books/categories"),TAGS:"".concat(a,"/books/tags"),DETAILS:e=>"".concat(a,"/books/").concat(e),PDF:e=>"".concat(a,"/books/").concat(e,"/pdf"),PDF_CONTENT:e=>"".concat(a,"/books/").concat(e,"/pdf-content"),DOWNLOAD:e=>"".concat(a,"/books/").concat(e,"/download"),REVIEWS:e=>"".concat(a,"/books/").concat(e,"/reviews"),RATING:e=>"".concat(a,"/books/").concat(e,"/rating"),ADD_REVIEW:e=>"".concat(a,"/books/").concat(e,"/reviews")},UPLOAD:{FILE:"".concat(a,"/upload"),PDF:"".concat(a,"/upload/pdf"),DELETE_FILE:e=>"".concat(a,"/upload/").concat(e),DELETE_BOOK:e=>"".concat(a,"/upload/book/").concat(e)},USER:{PROFILE:"".concat(a,"/users/profile"),UPDATE_PROFILE:"".concat(a,"/users/profile"),UPDATE_IMAGE:"".concat(a,"/users/profile/image"),BOOKMARKS:"".concat(a,"/users/bookmarks")}}},35695:(e,t,s)=>{"use strict";var a=s(18999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},48584:e=>{e.exports={alert:"Alert_alert__UIPUf",slideIn:"Alert_slideIn__lj2f5",content:"Alert_content__1povL",message:"Alert_message__URkUw",icon:"Alert_icon__AH4eb",closeButton:"Alert_closeButton__EONpg",success:"Alert_success__fxFuP",error:"Alert_error__UjuyX",warning:"Alert_warning__JuHtR",info:"Alert_info__0pSvo",fixed:"Alert_fixed__6naps"}},50929:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(95155),r=s(72047),n=s(12115),i=s(35695),o=s(6874),l=s.n(o),c=s(29911),u=s(56068),d=s(53716),m=s.n(d),p=s(17203),h=s(8890),g=s.n(h);function f(e){let{progress:t=0,status:s="Uploading...",showPercentage:r=!0,className:i=""}=e,[o,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{l(t)},50);return()=>clearTimeout(e)},[t]),(0,a.jsxs)("div",{className:"".concat(g().progressContainer," ").concat(i),children:[(0,a.jsx)("div",{className:g().statusText,children:s}),(0,a.jsx)("div",{className:g().progressBarOuter,children:(0,a.jsx)("div",{className:g().progressBarInner,style:{width:"".concat(o,"%")},"aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100",role:"progressbar"})}),r&&(0,a.jsxs)("div",{className:g().percentage,children:[Math.round(t),"%"]})]})}var x=s(48584),y=s.n(x);function v(e){let{type:t="info",message:s,show:r=!1,onClose:i,autoCloseTime:o=5e3,className:l=""}=e,[u,d]=(0,n.useState)(r);return((0,n.useEffect)(()=>{let e;return d(r),r&&o>0&&(e=setTimeout(()=>{d(!1),i&&i()},o)),()=>{e&&clearTimeout(e)}},[r,o,i]),u)?(0,a.jsxs)("div",{className:"".concat(y().alert," ").concat(y()[t]," ").concat(l," ").concat(y().slideIn),role:"alert",children:[(0,a.jsxs)("div",{className:y().content,children:[(()=>{switch(t){case"success":return(0,a.jsx)(c.A7C,{className:y().icon});case"error":case"warning":return(0,a.jsx)(c.BS8,{className:y().icon});default:return(0,a.jsx)(c.__w,{className:y().icon})}})(),(0,a.jsx)("p",{className:y().message,children:s})]}),(0,a.jsx)("button",{onClick:()=>{d(!1),i&&i()},className:y().closeButton,"aria-label":"Close alert",children:(0,a.jsx)(c.QCr,{})})]}):null}let j=["Contemporary Fiction","Literary Fiction","Historical Fiction","Science Fiction","Fantasy","Mystery","Thriller","Horror","Romance","Western","Crime Fiction","Adventure","Military Fiction","Urban Fiction","Short Stories","Young Adult Fiction","Children's Fiction","Classic Literature","Mythology","Folk Tales","Biography","Autobiography","Memoir","History","Military History","World History","Ancient History","Modern History","Philosophy","Psychology","Self-Help","Personal Development","Business","Economics","Finance","Management","Leadership","Marketing","Entrepreneurship","Career Development","Science","Popular Science","Physics","Chemistry","Biology","Mathematics","Computer Science","Programming","Artificial Intelligence","Technology","Engineering","Environmental Science","Astronomy","Medicine","Healthcare","Neuroscience","Data Science","Robotics","Biotechnology","Information Technology","Art","Art History","Photography","Music","Film Studies","Theater","Dance","Architecture","Design","Fashion","Creative Arts","Literary Criticism","Poetry","Drama","Essays","Journalism","Language","Linguistics","Cultural Studies","Religious Studies","Sociology","Anthropology","Political Science","International Relations","Law","Criminal Justice","Education","Teaching","Social Work","Gender Studies","Environmental Studies","Urban Studies","Geography","Archaeology","Communication Studies","Media Studies","Public Policy","Human Rights","Social Justice","Ethics","Cooking","Food & Wine","Health & Fitness","Sports","Travel","Gardening","Home Improvement","Crafts","Games","Pets","Parenting","Relationships","Lifestyle","Self-Care","Mindfulness","Meditation","Yoga","Alternative Medicine","Nutrition","Wellness"].sort(),b=["Adventure","Romance","Mystery","Thriller","Fantasy","Science Fiction","Horror","Historical","Contemporary","Literary Fiction","Young Adult","Children","Biography","Autobiography","Memoir","Self-Help","Business","Finance","Psychology","Philosophy","Religion","Science","Technology","Computer Science","Programming","Mathematics","Physics","Chemistry","Biology","Medicine","Health","Fitness","Cooking","Food","Travel","Photography","Art","Music","Film","Theater","Poetry","Education","Reference","Language","Politics","Social Science","Economics","Law","Environment","Nature","Sports"].sort();function N(){let{user:e,getToken:t}=(0,u.h)(),s=(0,i.useRouter)(),[o,d]=(0,n.useState)(null),[h,g]=(0,n.useState)(null),[x,y]=(0,n.useState)("No PDF selected"),[N,P]=(0,n.useState)("No cover image selected"),[S,C]=(0,n.useState)(""),[_,w]=(0,n.useState)(""),[E,F]=(0,n.useState)(""),[k,I]=(0,n.useState)(""),[R,D]=(0,n.useState)(""),[L,A]=(0,n.useState)(""),[T,O]=(0,n.useState)(!1),[B,U]=(0,n.useState)(""),[M,z]=(0,n.useState)(""),[G,H]=(0,n.useState)(null),[W,q]=(0,n.useState)(!0),[J,Q]=(0,n.useState)(!1),[K,V]=(0,n.useState)(""),[Y,X]=(0,n.useState)(0),[Z,$]=(0,n.useState)(0),[ee,et]=(0,n.useState)(0),[es,ea]=(0,n.useState)([]),[er,en]=(0,n.useState)(""),[ei,eo]=(0,n.useState)(!1),[el,ec]=(0,n.useState)([]),eu=(0,n.useRef)(null),[ed,em]=(0,n.useState)(""),[ep,eh]=(0,n.useState)(!1),[eg,ef]=(0,n.useState)([]),ex=(0,n.useRef)(null),[ey,ev]=(0,n.useState)(0),[ej,eb]=(0,n.useState)(!1),[eN,eP]=(0,n.useState)("Preparing upload..."),[eS,eC]=(0,n.useState)({show:!1,type:"info",message:""}),[e_,ew]=(0,n.useState)(""),[eE,eF]=(0,n.useState)(!1),[ek,eI]=(0,n.useState)("");(0,n.useEffect)(()=>{if(!e)return void s.push("/login");eR()},[e,s]);let eR=async()=>{q(!0),U("");try{let e=t();if(!e)throw Error("No authentication token found");let a=await (0,r.dw)("/users/profile",{headers:{Authorization:"Bearer ".concat(e)}});H(a),a.isAdmin||s.push("/profile")}catch(e){console.error("Error fetching profile data:",e),U(e.message||"An error occurred while fetching your profile")}finally{q(!1)}},eD=e=>new Promise((t,s)=>{let a=new Image;a.onload=()=>{URL.revokeObjectURL(a.src);let e=a.width,s=a.height;500===e&&700===s?t({valid:!0,width:e,height:s,message:"Image dimensions are correct: ".concat(e,"x").concat(s," pixels")}):t({valid:!1,width:e,height:s,message:"Image must be exactly 500x700 pixels, but got ".concat(e,"x").concat(s," pixels")})},a.onerror=()=>{URL.revokeObjectURL(a.src),s(Error("Failed to load the image. Please try another file."))},a.src=URL.createObjectURL(e)}),eL=e=>{Q(e),e?(d(null),y("No PDF selected"),B&&B.includes("PDF file")&&U("")):(V(""),ew(""),B&&B.includes("URL")&&U(""))},eA=async e=>{let t=e.target.files[0];if(t){if(!t.type.startsWith("image/")){U("Please select an image file for the cover"),g(null),P("No cover image selected");return}if(t.size>1048576){U("Cover image size should be less than 1MB"),g(null),P("No cover image selected");return}try{let e=await eD(t);e.valid?(g(t),P("".concat(t.name," (").concat(e.width,"x").concat(e.height,"px)")),U("")):(U(e.message),g(null),P("No cover image selected"))}catch(e){U(e.message),g(null),P("No cover image selected")}}},eT=()=>{if(!S.trim())return U("Title is required"),!1;if(S.length>100)return U("Title must be under 100 characters"),!1;if(!_.trim())return U("Author is required"),!1;if(_.length>100)return U("Author name must be under 100 characters"),!1;if(!E.trim())return U("Description is required"),!1;if(E.length>200)return U("Description must be under 200 characters"),!1;if(!k||isNaN(k)||k<=0)return U("Please enter a valid number of pages"),!1;if(!R)return U("Please select a category"),!1;if(eE){if(!ek)return U("Price is required for premium PDFs"),!1;let e=parseInt(ek,10);if(isNaN(e)||e<0)return U("Price must be a valid number greater than or equal to 0"),!1}if(J){if(!K.trim())return U("Please enter a valid PDF URL"),!1;try{new URL(K)}catch(e){return U("Please enter a valid URL format"),!1}if(!e_||isNaN(e_)||0>=parseFloat(e_))return U("Please enter a valid file size for the PDF (greater than 0 MB)"),!1}else{if(!o)return U("Please select a PDF file to upload"),!1;if(o.size>0x12c00000)return U("PDF file size should be less than 300MB"),!1}return h?!(h.size>5242880)||(U("Cover image size should be less than 5MB"),!1):(U("Please select a cover image"),!1)};(0,n.useEffect)(()=>{er?(ec(b.filter(e=>e.toLowerCase().includes(er.toLowerCase())&&!es.includes(e))),eo(!0)):eo(!1)},[er,es]),(0,n.useEffect)(()=>{function e(e){eu.current&&!eu.current.contains(e.target)&&eo(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let eO=e=>{if(es.length>=10)return void U("Maximum 10 tags allowed");es.includes(e)||ea([...es,e]),en(""),eo(!1)},eB=()=>{let e=er.trim();if(es.length>=10)return void U("Maximum 10 tags allowed");e&&!es.includes(e)&&(ea([...es,e]),en(""))},eU=e=>{ea(es.filter(t=>t!==e))};(0,n.useEffect)(()=>{ed?(ef(j.filter(e=>e.toLowerCase().includes(ed.toLowerCase())&&e!==R)),eh(!0)):eh(!1)},[ed,R]),(0,n.useEffect)(()=>{function e(e){ex.current&&!ex.current.contains(e.target)&&eh(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let eM=e=>{D(e),em(""),eh(!1)},ez=()=>{let e=ed.trim();e&&(D(e),em(""),eh(!1))},eG=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";eC({show:!0,type:t,message:e})},eH=async e=>{if(e.preventDefault(),!eT())return void window.scrollTo(0,0);eb(!0),ev(0),eP("Preparing files..."),U(""),z("");try{let e=t();if(!e)throw Error("No authentication token found");let s=new FormData;J?(s.append("isCustomUrl","true"),s.append("customURLPDF",K.trim()),s.append("fileSizeMB",e_),eP("Processing PDF URL...")):(eP("Uploading PDF file..."),o&&s.append("pdf",o)),ev(10),setTimeout(()=>{ev(30),J?eP("Validating PDF URL..."):eP("Processing PDF file...")},800),setTimeout(()=>{ev(50),eP("Uploading cover image...")},1500),h&&s.append("coverImage",h),s.append("title",S.trim()),s.append("author",_.trim()),s.append("description",E.trim()),k&&s.append("pageSize",k),R&&s.append("category",R),s.append("isPremium",eE),eE&&s.append("price",ek),es.length>0?s.append("tags",es.join(",")):s.append("tags",""),setTimeout(()=>{ev(70),eP("Finalizing upload...")},2e3);let a=await fetch("".concat(p.JR,"/upload/pdf"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:s});if(!a.ok){let e=a.headers.get("content-type"),t="Failed to upload e-book";throw t=e&&e.includes("application/json")?(await a.json()).message||"Upload failed: ".concat(a.status):"Upload failed: ".concat(a.statusText||a.status),Error(t)}await a.json(),ev(100),eP("Upload complete!"),eG("E-book successfully uploaded!","success"),d(null),g(null),y("No PDF selected"),P("No cover image selected"),C(""),w(""),F(""),I(""),D(""),em(""),ea([]),en(""),X(0),$(0),et(0),Q(!1),V(""),ew(""),eF(!1),eI(""),z("E-book successfully uploaded!"),setTimeout(()=>{eb(!1),ev(0)},2e3)}catch(t){console.error("Error uploading e-book:",t),ev(100),eP("Upload failed"),eb(!1);let e=t.message||"An error occurred while uploading the e-book";"AbortError"===t.name?e="Upload timed out. Please try a smaller file or check your internet connection.":e.includes("NetworkError")||e.includes("network")?e="Network error. Please check your internet connection and try again.":e.includes("timeout")||e.includes("Timeout")?e="Upload timed out. Please try a smaller file or check your internet connection.":(e.includes("Invalid image")||e.includes("format"))&&(e="There was an issue with the file format. Please ensure your PDF and image are valid."),eG(e,"error"),U(e)}},eW=(e,t)=>{let s=e/t*100;return s>=100?"".concat(m().charCount," ").concat(m().charCountError):s>=80?"".concat(m().charCount," ").concat(m().charCountWarning):m().charCount},eq=(e,t)=>e?!1===t?"".concat(m().fileInputContainer," ").concat(m().error):!0===t?"".concat(m().fileInputContainer," ").concat(m().success):m().fileInputContainer:m().fileInputContainer;return W?(0,a.jsx)("div",{className:m().container,style:{marginTop:"20px"},children:(0,a.jsx)("div",{className:m().profileContainer,children:(0,a.jsx)("div",{className:m().loading,children:(0,a.jsx)("div",{className:m().loadingAnimation})})})}):e&&(!e||e.isAdmin||!G||G.isAdmin)?(0,a.jsx)("div",{className:m().container,style:{marginTop:"20px"},children:(0,a.jsxs)("div",{className:m().profileContainer,children:[(0,a.jsxs)("div",{className:m().header,children:[(0,a.jsxs)(l(),{href:"/profile",className:m().backLink,children:[(0,a.jsx)(c.QVr,{className:m().backIcon}),"Back to Profile"]}),(0,a.jsxs)("h1",{className:m().headerTitle,style:{marginTop:"40px"},children:[(0,a.jsx)(c.hko,{style:{marginRight:"12px",display:"inline"}}),"Upload Book"]}),(0,a.jsx)("p",{className:m().headerSubtitle,style:{marginTop:"10px"},children:"Fill out the form below to add a new book to the library"})]}),eS.show&&(0,a.jsx)(v,{type:eS.type,message:eS.message,show:eS.show,onClose:()=>{eC(e=>({...e,show:!1}))},autoCloseTime:5e3,className:m().notificationAlert}),B&&!eS.show&&(0,a.jsxs)("div",{className:m().errorMessage,children:[(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(c.__w,{style:{marginRight:"10px"}}),B]}),(0,a.jsx)("button",{onClick:()=>U(""),className:m().closeErrorButton,"aria-label":"Close error message",children:(0,a.jsx)(c.QCr,{})})]}),M&&!eS.show&&(0,a.jsxs)("div",{className:m().successMessage,children:[(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(c.CMH,{style:{marginRight:"10px"}}),M]}),(0,a.jsx)("button",{onClick:()=>z(""),className:m().closeSuccessButton,"aria-label":"Close success message",children:(0,a.jsx)(c.QCr,{})})]}),ej&&(0,a.jsx)(f,{progress:ey,status:eN,showPercentage:!0,className:100===ey?m().completed:""}),(0,a.jsxs)("form",{onSubmit:eH,className:m().uploadForm,children:[(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"title",children:[(0,a.jsx)(c.vd0,{style:{marginRight:"8px"}}),"Title ",(0,a.jsxs)("span",{className:eW(Y,100),children:[Y,"/100"]})]}),(0,a.jsx)("input",{type:"text",id:"title",value:S,onChange:e=>{let t=e.target.value;C(t),X(t.length),t.length>100?U("Title must be under 100 characters"):U("")},maxLength:100,placeholder:"Enter book title",className:m().textInput})]}),(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"author",children:[(0,a.jsx)(c.x$1,{style:{marginRight:"8px"}}),"Author ",(0,a.jsxs)("span",{className:eW(Z,100),children:[Z,"/100"]})]}),(0,a.jsx)("input",{type:"text",id:"author",value:_,onChange:e=>{let t=e.target.value;w(t),$(t.length),t.length>100?U("Author name must be under 100 characters"):U("")},maxLength:100,placeholder:"Enter author name",className:m().textInput})]}),(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"description",children:[(0,a.jsx)(c.__w,{style:{marginRight:"8px"}}),"Description ",(0,a.jsxs)("span",{className:eW(ee,1e3),children:[ee,"/1000"]})]}),(0,a.jsx)("textarea",{id:"description",value:E,onChange:e=>{let t=e.target.value;F(t),et(t.length),t.length>1e3?U("Description must be under 1000 characters"):U("")},maxLength:1e3,placeholder:"Enter a description (up to 1000 characters)",className:m().textArea,rows:5})]}),(0,a.jsxs)("div",{className:m().formRow,children:[(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"pageSize",children:[(0,a.jsx)(c.aQJ,{style:{marginRight:"8px"}}),"Number of Pages"]}),(0,a.jsx)("input",{type:"number",id:"pageSize",value:k,onChange:e=>I(e.target.value),min:"1",placeholder:"Enter page count",className:m().numberInput})]}),(0,a.jsxs)("div",{className:m().formGroup,ref:ex,children:[(0,a.jsxs)("label",{htmlFor:"category",children:[(0,a.jsx)(c.hko,{style:{marginRight:"8px"}}),"Category"]}),(0,a.jsxs)("div",{className:m().categoryInputContainer,children:[R&&(0,a.jsxs)("div",{className:m().selectedCategory,children:[(0,a.jsx)("span",{children:R}),(0,a.jsx)("button",{type:"button",onClick:()=>D(""),className:m().removeCategory,children:(0,a.jsx)(c.QCr,{})})]}),!R&&(0,a.jsxs)("div",{className:m().categoryInputWrapper,children:[(0,a.jsx)("input",{type:"text",value:ed,onChange:e=>em(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),eg.length>0?eM(eg[0]):ed.trim()&&ez())},placeholder:"Search or add category...",className:m().categoryInput}),ed&&(0,a.jsx)("button",{type:"button",onClick:ez,className:m().addCategoryButton,children:(0,a.jsx)(c.OiG,{})})]}),ep&&eg.length>0&&(0,a.jsx)("div",{className:m().categorySuggestions,children:eg.map(e=>(0,a.jsx)("div",{onClick:()=>eM(e),className:m().categorySuggestion,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:m().formGroup,ref:eu,children:[(0,a.jsxs)("label",{htmlFor:"tags",children:[(0,a.jsx)(c.amN,{style:{marginRight:"8px"}}),"Tags ",(0,a.jsx)("span",{className:m().tagLimitInfo,children:"(min 1, max 10)"}),(0,a.jsxs)("span",{className:es.length>9?"".concat(m().tagCount," ").concat(m().charCountError):m().tagCount,children:[es.length,"/10"]})]}),(0,a.jsxs)("div",{className:m().tagInputContainer,children:[(0,a.jsx)("div",{className:m().selectedTags,children:es.map(e=>(0,a.jsxs)("span",{className:m().tag,children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>eU(e),className:m().removeTag,children:(0,a.jsx)(c.QCr,{})})]},e))}),(0,a.jsxs)("div",{className:m().tagInputWrapper,children:[(0,a.jsx)("input",{type:"text",value:er,onChange:e=>en(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),el.length>0?eO(el[0]):er.trim()&&eB()):"Backspace"===e.key&&!er&&es.length>0&&eU(es[es.length-1])},placeholder:"Search or add tags...",className:m().tagInput}),er&&(0,a.jsx)("button",{type:"button",onClick:eB,className:m().addTagButton,children:(0,a.jsx)(c.OiG,{})})]}),ei&&el.length>0&&(0,a.jsx)("div",{className:m().tagSuggestions,children:el.map(e=>(0,a.jsx)("div",{onClick:()=>eO(e),className:m().tagSuggestion,children:e},e))})]})]}),(0,a.jsxs)("div",{className:m().pdfInputSection,children:[(0,a.jsxs)("div",{className:m().pdfInputTabs,children:[(0,a.jsxs)("button",{type:"button",className:"".concat(m().pdfInputTab," ").concat(J?"":m().activeTab),onClick:()=>eL(!1),children:[(0,a.jsx)(c.l1U,{className:m().tabIcon}),"Upload PDF File"]}),(0,a.jsxs)("button",{type:"button",className:"".concat(m().pdfInputTab," ").concat(J?m().activeTab:""),onClick:()=>eL(!0),children:[(0,a.jsx)(c.AnD,{className:m().tabIcon}),"Paste PDF URL"]})]}),J?(0,a.jsxs)("div",{className:m().urlInputContainer,children:[(0,a.jsxs)("label",{htmlFor:"pdf-url",className:m().urlInputLabel,children:[(0,a.jsx)(c.AnD,{className:m().urlIcon}),"Enter PDF URL"]}),(0,a.jsx)("input",{type:"url",id:"pdf-url",value:K,onChange:e=>{V(e.target.value);try{e.target.value&&(new URL(e.target.value),U(""))}catch(e){U("Please enter a valid URL")}},placeholder:"https://example.com/document.pdf",className:m().urlInput}),(0,a.jsxs)("div",{className:m().formGroup,style:{marginTop:"10px"},children:[(0,a.jsxs)("label",{htmlFor:"custom-file-size",className:m().urlInputLabel,children:[(0,a.jsx)(c.l1U,{className:m().urlIcon}),"File Size (MB)"]}),(0,a.jsx)("input",{type:"number",id:"custom-file-size",value:e_,onChange:e=>ew(e.target.value),min:"0.1",step:"0.1",placeholder:"Enter file size in MB",className:m().urlInput})]}),(0,a.jsxs)("p",{className:m().urlInputHelp,children:[(0,a.jsx)(c.__w,{style:{marginRight:"8px"}}),"Enter any URL to a PDF file (Google Drive, Dropbox, GitHub, etc.)"]}),(0,a.jsxs)("div",{className:m().urlExamples,children:[(0,a.jsx)("p",{className:m().urlExampleTitle,children:"Examples of accepted URLs:"}),(0,a.jsxs)("ul",{className:m().urlExampleList,children:[(0,a.jsx)("li",{children:"Google Drive: https://drive.google.com/file/d/..."}),(0,a.jsx)("li",{children:"Dropbox: https://www.dropbox.com/s/..."}),(0,a.jsx)("li",{children:"GitHub: https://github.com/user/repo/raw/branch/file.pdf"}),(0,a.jsx)("li",{children:"Direct links: https://example.com/file.pdf"}),(0,a.jsx)("li",{children:"Any other valid URL that points to a PDF"})]})]})]}):(0,a.jsxs)("div",{className:eq(o,o&&o.size<=0xa00000),children:[(0,a.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{if(J)return;let t=e.target.files[0];if(t){if("application/pdf"!==t.type){U("Please select a PDF file"),d(null),y("No PDF selected");return}if(t.size>0xa00000){U("PDF file size should be less than 10MB"),d(null),y("No PDF selected");return}d(t),y(t.name),U("")}},id:"pdf-upload",className:m().fileInput}),(0,a.jsxs)("label",{htmlFor:"pdf-upload",className:m().fileInputLabel,children:[(0,a.jsx)(c.l1U,{className:m().uploadIcon}),"Choose PDF (max 10MB)"]}),(0,a.jsx)("span",{className:m().fileName,children:x}),o&&o.size>0&&(0,a.jsxs)("span",{className:m().fileSize,children:[(o.size/1048576).toFixed(2)," MB"]})]})]}),(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("div",{className:m().checkboxContainer,children:[(0,a.jsx)("input",{type:"checkbox",id:"premium-pdf",checked:eE,onChange:e=>eF(e.target.checked),className:m().checkbox}),(0,a.jsx)("label",{htmlFor:"premium-pdf",className:m().checkboxLabel,children:"This is a Premium PDF"})]}),(0,a.jsxs)("p",{className:m().fieldHelp,children:[(0,a.jsx)(c.__w,{style:{marginRight:"8px"}}),"Mark this PDF as premium content that requires coins to access"]})]}),eE&&(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"price",className:m().label,children:[(0,a.jsx)(c.cEG,{style:{marginRight:"8px"}}),"Price (in coins)"]}),(0,a.jsx)("input",{type:"number",id:"price",value:ek,onChange:e=>eI(e.target.value),className:m().input,min:"0",required:eE}),(0,a.jsxs)("p",{className:m().fieldHelp,children:[(0,a.jsx)(c.__w,{style:{marginRight:"8px"}}),"Set the price in coins that users need to pay to access this premium content"]})]}),(0,a.jsxs)("div",{className:eq(h,h&&h.size<=1048576),children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:eA,id:"cover-upload",className:m().fileInput}),(0,a.jsxs)("label",{htmlFor:"cover-upload",className:m().fileInputLabel,children:[(0,a.jsx)(c.dkL,{className:m().uploadIcon}),"Choose Cover Image (500x700px, max 1MB)"]}),(0,a.jsx)("span",{className:m().fileName,children:N}),h&&h.size>0&&(0,a.jsxs)("span",{className:m().fileSize,children:[(h.size/1048576).toFixed(2)," MB"]}),(0,a.jsx)("span",{className:m().fileRequirements,children:"Cover image must be exactly 500x700 pixels and less than 1MB"})]}),(0,a.jsx)("button",{type:"submit",className:m().uploadButton,disabled:ej||!o&&(!J||!K),children:ej?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:m().spinner}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.l1U,{className:m().uploadIcon}),"Upload E-Book"]})})]})]})}):null}},52806:(e,t,s)=>{Promise.resolve().then(s.bind(s,50929))},74436:(e,t,s)=>{"use strict";s.d(t,{k5:()=>u});var a=s(12115),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(r),i=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){var a,r,n;a=e,r=t,n=s[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function u(e){return t=>a.createElement(d,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,s)=>a.createElement(t.tag,c({key:s},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var s,{attr:r,size:n,title:l}=e,u=function(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,i),d=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:s,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(r)}}},e=>{var t=t=>e(e.s=t);e.O(0,[3909,6711,6874,7793,8441,1684,7358],()=>t(52806)),_N_E=e.O()}]);