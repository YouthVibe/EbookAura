(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3822],{31614:(e,s,t)=>{Promise.resolve().then(t.bind(t,38914))},38914:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>es});var r=t(95155),a=t(12115),i=t(67217),n=t(14426),o=t(71116),l=t(54581),c=t(31960),d=t(92302),x=t(18407),h=t(3127),A=t(68534),y=t(71803),u=t(41218),m=t(41101),j=t(16632),p=t(35297),g=t(77262),v=t(89990),f=t(72390),b=t(56278),w=t(54492),k=t(99927),P=t(69573),I=t(4915),C=t(33613),R=t(71977),S=t(34207),D=t(74028),E=t(95206),z=t(96065),F=t(37857),W=t(40857),K=t(78173),B=t(86475),T=t(89201),N=t(66242),U=t(28890),L=t(19505),q=t(72047);async function _(){try{return(await (0,q.dw)("/api-keys")).apiKeys}catch(e){throw console.error("Error fetching API keys:",e),e}}async function H(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await (0,q.Xj)("/api-keys",{name:e,permissions:s})).apiKey}catch(e){if(console.error("Error creating API key:",e),e.message&&e.message.includes("maximum limit"))throw Error("You have reached the maximum of 5 API keys. Please delete an existing key before creating a new one.");if(e.message&&e.message.includes("required"))throw Error("API key name is required. Please provide a name for your key.");throw Error(e.message||"Failed to create API key. Please try again later.")}}async function M(e){try{let s=await (0,q.dw)("/api-keys/".concat(e,"/usage/history"));return s.history||s}catch(s){throw console.error("Error fetching API key usage history ".concat(e,":"),s),s}}async function X(e,s,t){try{let r={};return s&&(r.name=s),t&&(r.permissions=t),(await (0,q.q1)("/api-keys/".concat(e),r)).apiKey}catch(s){throw console.error("Error updating API key ".concat(e,":"),s),s}}async function Y(e){try{return(await (0,q.q1)("/api-keys/".concat(e,"/revoke"),{})).apiKey}catch(s){throw console.error("Error revoking API key ".concat(e,":"),s),s}}async function O(e){try{return(await (0,q.q1)("/api-keys/".concat(e,"/activate"),{})).apiKey}catch(s){throw console.error("Error activating API key ".concat(e,":"),s),s}}async function V(e){try{return await (0,q._5)("/api-keys/".concat(e))}catch(s){throw console.error("Error deleting API key ".concat(e,":"),s),s}}var G=t(35695),J=t(56068),Q=t(50757),Z=t(6874),$=t.n(Z);let ee=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(e){return console.error("Failed to copy:",e),!1}};function es(){let{user:e,loading:s}=(0,J.h)(),t=!!e,q=(0,G.useRouter)(),[Z,es]=(0,a.useState)([]),[et,er]=(0,a.useState)(!1),[ea,ei]=(0,a.useState)(null),[en,eo]=(0,a.useState)(null),[el,ec]=(0,a.useState)(null),[ed,ex]=(0,a.useState)(!1),[eh,eA]=(0,a.useState)({}),[ey,eu]=(0,a.useState)({}),[em,ej]=(0,a.useState)({}),[ep,eg]=(0,a.useState)(!1),[ev,ef]=(0,a.useState)(!1),[eb,ew]=(0,a.useState)(!1),[ek,eP]=(0,a.useState)(null),[eI,eC]=(0,a.useState)(null),[eR,eS]=(0,a.useState)(!1),eD=(0,a.useRef)(null),[eE,ez]=(0,a.useState)(""),[eF,eW]=(0,a.useState)({read:!0,write:!1,getPdf:!1,download:!1,postReviews:!1});(0,a.useEffect)(()=>{if(t)return eN(),eK(),()=>{eD.current&&clearInterval(eD.current)};s||t||q.push("/login?redirect=/profile/api-keys")},[t,s]);let eK=()=>{eD.current=setInterval(()=>{eB()},3e4)},eB=(0,a.useCallback)(async()=>{if(0!==Z.length&&t)try{eS(!0);let e=await _();es(e)}catch(e){console.error("Error refreshing API key usage:",e)}finally{eS(!1)}},[Z,t]),eT=async()=>{er(!0),ei(null);try{await eB(),eo("API key usage data refreshed successfully!"),setTimeout(()=>{eo&&eo(null)},3e3)}catch(e){ei("Failed to refresh API key usage data. Please try again."),console.error(e)}finally{er(!1)}},eN=async()=>{er(!0),ei(null);try{let e=await _();es(e)}catch(e){ei("Failed to load API keys. Please try again."),console.error(e)}finally{er(!1)}},eU=()=>{ez(""),eW({read:!0,write:!1,getPdf:!1,download:!1,postReviews:!1}),eg(!0)},eL=async()=>{if(!eE.trim())return void ei("API key name is required");er(!0),ei(null);try{let e=await H(eE,eF);if(!e||!e.key)throw Error("API key creation was successful but no key was returned");es(s=>[...s,e]),ec(e),eo("API key created successfully! Please copy your key now - it will only be shown once."),eg(!1),window.scrollTo({top:0,behavior:"smooth"})}catch(e){ei(e.message||"Failed to create API key. Please try again.")}finally{er(!1)}},eq=e=>{eP(e),ez(e.name),eW({...e.permissions}),ef(!0)},e_=async()=>{er(!0),ei(null);try{let e=await X(ek.id,eE,eF);es(Z.map(s=>s.id===e.id?e:s)),eo("API key updated successfully!"),ef(!1)}catch(e){ei(e.message||"Failed to update API key. Please try again.")}finally{er(!1)}},eH=async e=>{er(!0),ei(null);try{let s;e.isActive?(s=await Y(e.id),eo("API key revoked successfully!")):(s=await O(e.id),eo("API key activated successfully!")),es(Z.map(e=>e.id===s.id?{...e,isActive:s.isActive}:e))}catch(e){ei(e.message||"Failed to update API key status. Please try again.")}finally{er(!1)}},eM=e=>{eC(e),ew(!0)},eX=async()=>{er(!0),ei(null);try{await V(eI.id),es(Z.filter(e=>e.id!==eI.id)),eo("API key deleted successfully!"),ew(!1)}catch(e){ei(e.message||"Failed to delete API key. Please try again.")}finally{er(!1)}},eY=async e=>{let s=await ee(e);ex(s),s?(eo("API key copied to clipboard!"),setTimeout(()=>{eo&&eo(null)},3e3)):ei("Failed to copy API key. Please try manually selecting and copying.")},eO=e=>{eW({...eF,[e]:!eF[e]})},eV=()=>{ei(null),eo(null)},eG=async e=>{let s=!eh[e];eA(t=>({...t,[e]:s})),s&&!ey[e]&&await eJ(e)},eJ=async e=>{ej(s=>({...s,[e]:!0}));try{let s=await M(e);if(!s||!s.lastWeek)throw console.error("Invalid analytics data format:",s),Error("Invalid data format received from server");eu(t=>({...t,[e]:s})),ei(null)}catch(t){var s;console.error("Error loading analytics for API key ".concat(e,":"),t),eu(s=>({...s,[e]:{error:t.message||"Failed to load analytics data",retryable:!0}})),(null==(s=ey[e])?void 0:s.error)||(ei("Failed to load API key analytics. Please try again."),setTimeout(()=>{ei&&ei(null)},5e3))}finally{ej(s=>({...s,[e]:!1}))}};return s?(0,r.jsxs)(i.A,{sx:{py:4,textAlign:"center"},children:[(0,r.jsx)(n.A,{}),(0,r.jsx)(o.A,{mt:2,children:"Loading..."})]}):(0,r.jsxs)(i.A,{maxWidth:"md",sx:{py:4},children:[(0,r.jsxs)(l.A,{sx:{mb:4},children:[(0,r.jsxs)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,children:[(0,r.jsx)(S.A,{sx:{mr:1,verticalAlign:"middle"}}),"API Keys"]}),(0,r.jsxs)(o.A,{variant:"body1",color:"text.secondary",paragraph:!0,children:["Manage your API keys to access EbookAura programmatically. You can create up to 5 API keys.",(0,r.jsx)($(),{href:"/profile/api-keys/docs",passHref:!0,children:(0,r.jsxs)(c.A,{sx:{ml:1,display:"inline-flex",alignItems:"center"},children:[(0,r.jsx)(D.A,{fontSize:"small",sx:{mr:.5}}),"View API Documentation"]})})]}),ea&&(0,r.jsx)(d.A,{severity:"error",sx:{mb:2},onClose:eV,children:ea}),en&&(0,r.jsx)(d.A,{severity:"success",sx:{mb:2},onClose:eV,children:en}),el&&(0,r.jsxs)(x.A,{sx:{p:3,mb:4,bgcolor:"#f8f9fa"},children:[(0,r.jsx)(o.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Your New API Key"}),(0,r.jsx)(o.A,{variant:"body2",paragraph:!0,color:"error",children:"Important: Copy this key now. It will only be shown once!"}),(0,r.jsxs)(l.A,{sx:{p:2,bgcolor:"#f0f0f0",borderRadius:1,fontFamily:"monospace",fontSize:"0.9rem",position:"relative",mb:2},children:[(0,r.jsx)("code",{style:{overflowWrap:"break-word",wordBreak:"break-all"},children:el.key}),(0,r.jsx)(h.A,{size:"small",sx:{position:"absolute",right:8,top:8},onClick:()=>eY(el.key),color:ed?"success":"default",children:ed?(0,r.jsx)(E.A,{fontSize:"small"}):(0,r.jsx)(z.A,{fontSize:"small"})})]}),(0,r.jsx)(A.A,{variant:"outlined",onClick:()=>{ec(null),ex(!1)},children:"I've copied my key"})]})]}),(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[(0,r.jsx)(A.A,{variant:"outlined",onClick:()=>{q.push("/profile")},children:"Back to Profile"}),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(A.A,{variant:"outlined",onClick:eT,startIcon:(0,r.jsx)(F.A,{}),disabled:et||eR,sx:{mr:2},children:"Refresh Usage"}),(0,r.jsx)(A.A,{variant:"contained",color:"primary",startIcon:(0,r.jsx)(W.A,{}),onClick:eU,disabled:et||Z.length>=5,children:"Create API Key"})]})]}),et&&!Z.length?(0,r.jsx)(l.A,{sx:{textAlign:"center",py:4},children:(0,r.jsx)(n.A,{})}):0===Z.length?(0,r.jsxs)(x.A,{sx:{p:4,textAlign:"center"},children:[(0,r.jsx)(K.A,{sx:{fontSize:60,color:"text.secondary",mb:2}}),(0,r.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"No API Keys Yet"}),(0,r.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Create your first API key to start using the EbookAura API programmatically."}),(0,r.jsx)(A.A,{variant:"contained",startIcon:(0,r.jsx)(W.A,{}),onClick:eU,children:"Create API Key"})]}):(0,r.jsx)(y.A,{spacing:2,children:Z.map(e=>{var s,t,a;return(0,r.jsxs)(u.A,{sx:{position:"relative",opacity:e.isActive?1:.7},children:[!e.isActive&&(0,r.jsx)(m.A,{label:"Revoked",color:"error",size:"small",sx:{position:"absolute",top:8,right:8}}),(0,r.jsxs)(j.A,{children:[(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,r.jsxs)(y.A,{direction:"row",spacing:1,children:[(0,r.jsx)(p.A,{title:eh[e.id]?"Hide Analytics":"Show Analytics",children:(0,r.jsx)(h.A,{size:"small",onClick:()=>eG(e.id),color:eh[e.id]?"primary":"default",children:eh[e.id]?(0,r.jsx)(B.A,{}):(0,r.jsx)(T.A,{})})}),(0,r.jsx)(p.A,{title:e.isActive?"Revoke Key":"Activate Key",children:(0,r.jsx)(h.A,{size:"small",onClick:()=>eH(e),color:e.isActive?"default":"primary",children:e.isActive?(0,r.jsx)(N.A,{}):(0,r.jsx)(K.A,{})})}),(0,r.jsx)(p.A,{title:"Edit",children:(0,r.jsx)(h.A,{size:"small",onClick:()=>eq(e),children:(0,r.jsx)(U.A,{})})}),(0,r.jsx)(p.A,{title:"Delete",children:(0,r.jsx)(h.A,{size:"small",onClick:()=>eM(e),color:"error",children:(0,r.jsx)(L.A,{})})})]})]}),(0,r.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["Created: ",(0,Q.m)(new Date(e.createdAt))," ago"]}),e.lastUsed&&(0,r.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["Last used: ",(0,Q.m)(new Date(e.lastUsed))," ago"]}),(0,r.jsxs)(l.A,{sx:{mt:2},children:[(0,r.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Permissions:"}),(0,r.jsxs)(y.A,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:1},children:[e.permissions.read&&(0,r.jsx)(m.A,{size:"small",label:"Read",color:"primary"}),e.permissions.write&&(0,r.jsx)(m.A,{size:"small",label:"Write",color:"secondary"}),e.permissions.getPdf&&(0,r.jsx)(m.A,{size:"small",label:"PDF Access",color:"success"}),e.permissions.download&&(0,r.jsx)(m.A,{size:"small",label:"Download",color:"info"}),e.permissions.postReviews&&(0,r.jsx)(m.A,{size:"small",label:"Post Reviews",color:"warning"})]})]}),e.usage&&(0,r.jsxs)(l.A,{sx:{mt:2,p:1.5,bgcolor:"#f5f5f5",borderRadius:1},children:[(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"API Usage Today:"}),(0,r.jsx)(o.A,{variant:"caption",color:"text.secondary",children:e.usage.lastReset?(0,r.jsxs)(r.Fragment,{children:["Reset ",(0,Q.m)(new Date(e.usage.lastReset))," ago"]}):"Resets at midnight UTC"})]}),(0,r.jsxs)(l.A,{sx:{mb:1.5},children:[(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[(0,r.jsx)(o.A,{variant:"body2",children:"Books searched:"}),(0,r.jsxs)(o.A,{variant:"body2",fontWeight:e.usage.booksSearched>0?"bold":"normal",children:[e.usage.booksSearched,"/",e.limits.booksPerDay]})]}),(0,r.jsx)(g.A,{variant:"determinate",value:e.usage.booksSearched/e.limits.booksPerDay*100,color:e.usage.booksSearched>.8*e.limits.booksPerDay?"warning":"primary",sx:{height:8,borderRadius:1}})]}),(0,r.jsxs)(l.A,{children:[(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[(0,r.jsx)(o.A,{variant:"body2",children:"Reviews posted:"}),(0,r.jsxs)(o.A,{variant:"body2",fontWeight:e.usage.reviewsPosted>0?"bold":"normal",children:[e.usage.reviewsPosted,"/",e.limits.reviewsPerDay]})]}),(0,r.jsx)(g.A,{variant:"determinate",value:e.usage.reviewsPosted/e.limits.reviewsPerDay*100,color:e.usage.reviewsPosted>.8*e.limits.reviewsPerDay?"warning":"primary",sx:{height:8,borderRadius:1}})]}),(0,r.jsxs)(l.A,{sx:{mt:1.5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(o.A,{variant:"caption",color:"text.secondary",children:["Last used: ",e.lastUsed?(0,Q.m)(new Date(e.lastUsed))+" ago":"Never"]}),(0,r.jsxs)(o.A,{variant:"caption",color:"text.secondary",children:["Next reset: ",(()=>{let e=new Date(new Date);return e.setDate(e.getDate()+1),e.setHours(0,0,0,0),(0,Q.m)(e)})()]})]})]}),(0,r.jsx)(v.A,{in:eh[e.id],timeout:"auto",unmountOnExit:!0,children:(0,r.jsxs)(l.A,{sx:{mt:3,p:2,bgcolor:"#f8f9fa",borderRadius:1},children:[(0,r.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:"API Key Analytics"}),(0,r.jsx)(f.A,{sx:{mb:2}}),em[e.id]?(0,r.jsxs)(l.A,{sx:{textAlign:"center",py:3},children:[(0,r.jsx)(n.A,{size:24}),(0,r.jsx)(o.A,{variant:"body2",sx:{mt:1},children:"Loading analytics data..."})]}):(null==(s=ey[e.id])?void 0:s.error)?(0,r.jsxs)(l.A,{sx:{textAlign:"center",py:2},children:[(0,r.jsx)(d.A,{severity:"error",sx:{mb:2},children:ey[e.id].error}),(0,r.jsx)(A.A,{variant:"outlined",size:"small",onClick:()=>eJ(e.id),startIcon:(0,r.jsx)(F.A,{}),children:"Retry Loading Data"})]}):ey[e.id]?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.A,{sx:{mb:3},children:[(0,r.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Daily Averages"}),(0,r.jsxs)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:3},children:[(0,r.jsxs)(l.A,{sx:{flex:"1 1 45%",minWidth:"150px"},children:[(0,r.jsx)(o.A,{variant:"body2",children:"Books searched:"}),(0,r.jsxs)(o.A,{variant:"h5",color:"primary",fontWeight:"bold",children:[(null==(t=ey[e.id].dailyAverages)?void 0:t.booksSearched)||0,(0,r.jsx)(o.A,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:"per day"})]})]}),(0,r.jsxs)(l.A,{sx:{flex:"1 1 45%",minWidth:"150px"},children:[(0,r.jsx)(o.A,{variant:"body2",children:"Reviews posted:"}),(0,r.jsxs)(o.A,{variant:"h5",color:"primary",fontWeight:"bold",children:[(null==(a=ey[e.id].dailyAverages)?void 0:a.reviewsPosted)||0,(0,r.jsx)(o.A,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:"per day"})]})]})]})]}),(0,r.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Last 7 Days"}),(0,r.jsxs)(l.A,{sx:{overflowX:"auto"},children:[(0,r.jsx)(l.A,{sx:{display:"flex",minWidth:"550px",mt:2,height:100},children:ey[e.id].lastWeek.map(s=>(0,r.jsxs)(l.A,{sx:{flex:1,px:.5,textAlign:"center",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[(0,r.jsx)(o.A,{variant:"caption",sx:{display:"block",mb:.5},children:new Date(s.date).toLocaleDateString(void 0,{weekday:"short"})}),(0,r.jsxs)(l.A,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[(0,r.jsx)(l.A,{sx:{height:"".concat(Math.min(s.booksSearched/e.limits.booksPerDay*100,100),"%"),minHeight:4*(s.booksSearched>0),bgcolor:"primary.main",borderTopLeftRadius:4,borderTopRightRadius:4,mb:.5,position:"relative"},children:(0,r.jsx)(o.A,{variant:"caption",sx:{position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",fontSize:"0.7rem",fontWeight:s.booksSearched>0?"bold":"normal"},children:s.booksSearched})}),(0,r.jsx)(l.A,{sx:{height:"".concat(Math.min(s.reviewsPosted/e.limits.reviewsPerDay*100,100),"%"),minHeight:4*(s.reviewsPosted>0),bgcolor:"secondary.main",borderTopLeftRadius:4,borderTopRightRadius:4,position:"relative"},children:(0,r.jsx)(o.A,{variant:"caption",sx:{position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",fontSize:"0.7rem",fontWeight:s.reviewsPosted>0?"bold":"normal"},children:s.reviewsPosted})})]})]},s.date))}),(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"center",mt:2,gap:3},children:[(0,r.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(l.A,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main",mr:1}}),(0,r.jsx)(o.A,{variant:"caption",children:"Books Searched"})]}),(0,r.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(l.A,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"secondary.main",mr:1}}),(0,r.jsx)(o.A,{variant:"caption",children:"Reviews Posted"})]})]})]})]}):(0,r.jsxs)(l.A,{sx:{textAlign:"center",py:2},children:[(0,r.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No usage history available yet. Start using this API key to generate analytics data."}),(0,r.jsx)(A.A,{variant:"outlined",size:"small",onClick:()=>eJ(e.id),startIcon:(0,r.jsx)(F.A,{}),children:"Check Again"})]}),(0,r.jsx)(l.A,{sx:{mt:2,textAlign:"center"},children:(0,r.jsx)(A.A,{variant:"outlined",size:"small",onClick:()=>eJ(e.id),startIcon:(0,r.jsx)(F.A,{}),disabled:em[e.id],children:"Refresh Analytics"})})]})})]})]},e.id)})}),(0,r.jsxs)(b.A,{open:ep,onClose:()=>eg(!1),children:[(0,r.jsx)(w.A,{children:"Create New API Key"}),(0,r.jsxs)(k.A,{children:[(0,r.jsx)(P.A,{margin:"dense",label:"API Key Name",fullWidth:!0,value:eE,onChange:e=>ez(e.target.value),required:!0,helperText:"Give your API key a descriptive name (e.g. 'Mobile App', 'Personal Script')"}),(0,r.jsx)(o.A,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Permissions:"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.read,onChange:()=>eO("read"),disabled:!0}),label:"Read (Search books, view categories/tags)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.write,onChange:()=>eO("write")}),label:"Write (Update user profile)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.getPdf,onChange:()=>eO("getPdf")}),label:"PDF Access (View PDF content)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.download,onChange:()=>eO("download")}),label:"Download (Download PDF files)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.postReviews,onChange:()=>eO("postReviews")}),label:"Post Reviews (Create book reviews)"}),(0,r.jsx)(d.A,{severity:"info",sx:{mt:2},children:(0,r.jsxs)(o.A,{variant:"body2",children:[(0,r.jsx)("strong",{children:"Rate limits per day:"}),(0,r.jsx)("br",{}),"• 50 book searches",(0,r.jsx)("br",{}),"• 10 review posts"]})})]}),(0,r.jsxs)(R.A,{children:[(0,r.jsx)(A.A,{onClick:()=>eg(!1),children:"Cancel"}),(0,r.jsx)(A.A,{onClick:eL,variant:"contained",disabled:!eE.trim(),children:"Create"})]})]}),(0,r.jsxs)(b.A,{open:ev,onClose:()=>ef(!1),children:[(0,r.jsx)(w.A,{children:"Edit API Key"}),(0,r.jsxs)(k.A,{children:[(0,r.jsx)(P.A,{margin:"dense",label:"API Key Name",fullWidth:!0,value:eE,onChange:e=>ez(e.target.value),required:!0}),(0,r.jsx)(o.A,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Permissions:"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.read,onChange:()=>eO("read"),disabled:!0}),label:"Read (Search books, view categories/tags)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.write,onChange:()=>eO("write")}),label:"Write (Update user profile)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.getPdf,onChange:()=>eO("getPdf")}),label:"PDF Access (View PDF content)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.download,onChange:()=>eO("download")}),label:"Download (Download PDF files)"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(C.A,{checked:eF.postReviews,onChange:()=>eO("postReviews")}),label:"Post Reviews (Create book reviews)"})]}),(0,r.jsxs)(R.A,{children:[(0,r.jsx)(A.A,{onClick:()=>ef(!1),children:"Cancel"}),(0,r.jsx)(A.A,{onClick:e_,variant:"contained",disabled:!eE.trim(),children:"Update"})]})]}),(0,r.jsxs)(b.A,{open:eb,onClose:()=>ew(!1),children:[(0,r.jsx)(w.A,{children:"Delete API Key"}),(0,r.jsx)(k.A,{children:(0,r.jsxs)(o.A,{children:['Are you sure you want to delete the API key "',null==eI?void 0:eI.name,'"? This action cannot be undone.']})}),(0,r.jsxs)(R.A,{children:[(0,r.jsx)(A.A,{onClick:()=>ew(!1),children:"Cancel"}),(0,r.jsx)(A.A,{onClick:eX,color:"error",variant:"contained",children:"Delete"})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[6874,9719,980,8494,9467,6068,8441,1684,7358],()=>s(31614)),_N_E=e.O()}]);