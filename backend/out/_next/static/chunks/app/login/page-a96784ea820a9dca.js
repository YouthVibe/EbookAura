(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{3361:(e,r,t)=>{Promise.resolve().then(t.bind(t,27418))},20068:e=>{e.exports={container:"login_container__kitvQ",loginBox:"login_loginBox___U_z1",fadeIn:"login_fadeIn__pJUG5",header:"login_header__6nr4p",title:"login_title__r1aBc",titleEbook:"login_titleEbook__oIKGL",titleAura:"login_titleAura__2KE_e",subtitle:"login_subtitle__JqAz7",form:"login_form__NY6Qf",formGroup:"login_formGroup__exBI3",label:"login_label__9OzGh",input:"login_input__GK8Qo",passwordContainer:"login_passwordContainer__aF_NS",togglePassword:"login_togglePassword__vtN4g",forgotPassword:"login_forgotPassword__J4MxT",submitButton:"login_submitButton__lHovt",register:"login_register__yFmUP",errorMessage:"login_errorMessage____0Gr",shake:"login_shake__04fAF"}},27418:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var o=t(95155),s=t(12115),n=t(6874),a=t.n(n),i=t(35695),l=t(20068),c=t.n(l),u=t(29911),d=t(56068),g=t(72047);function m(){let[e,r]=(0,s.useState)(""),[t,n]=(0,s.useState)(""),[l,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,_]=(0,s.useState)(""),b=(0,i.useRouter)(),{login:v}=(0,d.h)(),y=async r=>{r.preventDefault(),_(""),h(!0);try{console.log("Attempting login for:",e);try{let r=await (0,g.Xj)("/auth/login",{email:e,password:t});if(console.log("Login successful, received data:",{...r,token:r.token?"***TOKEN_REDACTED***":"no token"}),!r.token){console.error("No token received in login response"),_("Authentication error: No token received"),h(!1);return}v(r),console.log("Redirecting to home page..."),b.push("/")}catch(e){console.error("API login error:",e),e.message.includes("404")||e.message.includes("not found")?_("Login failed: The service is currently unavailable. Please try again later."):e.message.includes("401")||e.message.includes("unauthorized")?_("Invalid email or password. Please check your credentials."):_(e.message||"Login failed. Please try again."),h(!1)}}catch(e){console.error("Unexpected login error:",e),_("An unexpected error occurred. Please try again later."),h(!1)}};return(0,o.jsx)("div",{className:c().container,children:(0,o.jsxs)("div",{className:c().loginBox,children:[(0,o.jsxs)("div",{className:c().header,children:[(0,o.jsxs)("h1",{className:c().title,children:[(0,o.jsx)("span",{className:c().titleEbook,children:"Ebook"}),(0,o.jsx)("span",{className:c().titleAura,children:"Aura"})]}),(0,o.jsx)("p",{className:c().subtitle,children:"Welcome back! Please login to your account."})]}),f&&(0,o.jsx)("div",{className:c().errorMessage,children:f}),(0,o.jsxs)("form",{onSubmit:y,className:c().form,children:[(0,o.jsxs)("div",{className:c().formGroup,children:[(0,o.jsx)("label",{htmlFor:"email",className:c().label,children:"Email Address"}),(0,o.jsx)("input",{type:"email",id:"email",className:c().input,placeholder:"Enter your email",value:e,onChange:e=>r(e.target.value),required:!0})]}),(0,o.jsxs)("div",{className:c().formGroup,children:[(0,o.jsx)("label",{htmlFor:"password",className:c().label,children:"Password"}),(0,o.jsxs)("div",{className:c().passwordContainer,children:[(0,o.jsx)("input",{type:l?"text":"password",id:"password",className:c().input,placeholder:"Enter your password",value:t,onChange:e=>n(e.target.value),required:!0}),(0,o.jsx)("button",{type:"button",className:c().togglePassword,onClick:()=>m(!l),"aria-label":l?"Hide password":"Show password",children:l?(0,o.jsx)(u.mx3,{}):(0,o.jsx)(u.Ny1,{})})]})]}),(0,o.jsx)("div",{className:c().forgotPassword,children:(0,o.jsx)(a(),{href:"/forgot-password",children:"Forgot Password?"})}),(0,o.jsx)("button",{type:"submit",className:c().submitButton,disabled:p,children:p?"Logging in...":"Login"})]}),(0,o.jsx)("div",{className:c().register,children:(0,o.jsxs)("p",{children:["Don't have an account? ",(0,o.jsx)(a(),{href:"/register",children:"Register"})]})})]})})}},35695:(e,r,t)=>{"use strict";var o=t(18999);t.o(o,"useParams")&&t.d(r,{useParams:function(){return o.useParams}}),t.o(o,"usePathname")&&t.d(r,{usePathname:function(){return o.usePathname}}),t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(r,{useSearchParams:function(){return o.useSearchParams}})},74436:(e,r,t)=>{"use strict";t.d(r,{k5:()=>u});var o=t(12115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=o.createContext&&o.createContext(s),a=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(r){var o,s,n;o=e,s=r,n=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(s))in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e){return r=>o.createElement(d,i({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,t)=>o.createElement(r.tag,c({key:t},r.attr),e(r.child)))}(e.child))}function d(e){var r=r=>{var t,{attr:s,size:n,title:l}=e,u=function(e,r){if(null==e)return{};var t,o,s=function(e,r){if(null==e)return{};var t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)t=n[o],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,a),d=n||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),o.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,u,{className:t,style:c(c({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&o.createElement("title",null,l),e.children)};return void 0!==n?o.createElement(n.Consumer,null,e=>r(e)):r(s)}}},e=>{var r=r=>e(e.s=r);e.O(0,[9471,6711,6874,6068,8441,1684,7358],()=>r(3361)),_N_E=e.O()}]);